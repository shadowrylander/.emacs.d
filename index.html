<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-11-14 Mon 06:05 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Jeet Ray" />
<link rel="stylesheet" type="text/css" href="https://combinatronics.io/sylvorg/settings/main/src/styles/primary/syvl.css" />
<link rel="icon" href="https://combinatronics.io/sylvorg/settings/main/src/icons/favicons/shiny-zigzagoon-galar.ico" sizes="any" />
<link rel="icon" href="https://combinatronics.io/sylvorg/settings/main/src/icons/favicons/shiny-zigzagoon-galar.svg" />
<link rel="manifest" href="https://combinatronics.io/sylvorg/settings/main/manifest.json" />
<link rel="stylesheet" type="text/css" href="https://combinatronics.io/sylvorg/settings/main/src/styles/highlight/paraiso-dark.min.css" />
<script src="https://combinatronics.io/sylvorg/settings/main/src/scripts/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<div class="header">
<h1>We Are Syvlorg.</h1>
<a href="">About Me</a>
<a href="">About This Website</a>
<a href="">About Syvlorg</a>
<a href="https://resume.syvl.org">Résumé</a>
<a href="https://index.syvl.org">Index</a>
</div>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc5d04d1">early-init.el</a></li>
<li><a href="#org4be7460">Startup</a>
<ul>
<li><a href="#org557a1f2">Optimizations</a></li>
<li><a href="#orge9cdac7">Libraries</a></li>
<li><a href="#org5d79c3c">Native Comp</a></li>
<li><a href="#orge129f3a">We are Borg.</a></li>
<li><a href="#org5c3bd68">Custom</a></li>
<li><a href="#orgede4095">Themes</a></li>
<li><a href="#orge5e2c9b">Packages</a>
<ul>
<li><a href="#orga29bde1">use-package</a></li>
<li><a href="#orgade39c7">hydra</a></li>
<li><a href="#org9a899fc">alloy</a></li>
<li><a href="#org0fdb3a1">prime</a></li>
<li><a href="#orgbe0f55d">uru</a></li>
<li><a href="#orgb3878bb">which-key</a></li>
<li><a href="#orgf49283c">cosmoem</a></li>
<li><a href="#orgcf1974e">sorrow</a></li>
<li><a href="#org61a9105">exec-path-from-shell</a></li>
<li><a href="#org1eef518">undo-fu</a></li>
<li><a href="#org3dc469c">lode</a></li>
<li><a href="#org8f6a2ae">meta</a></li>
<li><a href="#org93a8852">aiern</a></li>
<li><a href="#org0ac2515">all-the-icons</a></li>
<li><a href="#org103723a">buffer</a></li>
<li><a href="#org240c689">ivy</a></li>
<li><a href="#org74b7645">counsel</a></li>
<li><a href="#org5ba9d82">damascus</a></li>
<li><a href="#org907d27b">dired-sidebar</a></li>
<li><a href="#orgb000587">god-mode</a></li>
<li><a href="#orgbd8b011">doom-aiern-modeline</a></li>
<li><a href="#org9ae9cd3">evil</a></li>
<li><a href="#orgfc74d6d">olivetti</a></li>
<li><a href="#org1ae59d3">rainbow-identifiers</a></li>
<li><a href="#orgc41f53a">vlf</a></li>
<li><a href="#org9e1a3dd">doom-themes</a></li>
<li><a href="#org3a43ddd">windmove</a></li>
<li><a href="#org49b088c">ace-window</a></li>
<li><a href="#org657d5d7">cosmog</a></li>
<li><a href="#org909e351">helm</a></li>
<li><a href="#org19af9ee">magit</a></li>
<li><a href="#org03dac21">modalka</a></li>
<li><a href="#orgc6c1c84">objed</a></li>
<li><a href="#org6a93371">projectile</a></li>
<li><a href="#orgfb525c5">pyvenv</a></li>
<li><a href="#orgc4b5337">restart-emacs</a></li>
<li><a href="#orgae18ffa">ryo modal</a></li>
<li><a href="#org7f6ac50">vterm</a></li>
<li><a href="#org8b78572">xah-fly-keys</a></li>
<li><a href="#orgec0698e">show-paren-mode</a></li>
<li><a href="#orgea48a2e">lispy</a></li>
<li><a href="#org385a5e1">sly</a></li>
<li><a href="#org634149d">Major Modes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgc5d04d1" class="outline-2">
<h2 id="orgc5d04d1">early-init.el</h2>
<div class="outline-text-2" id="text-orgc5d04d1">
<p>
The <code>noweb-ref</code> headers, such as the one below, are adapted from <a href="https://emacs.stackexchange.com/users/388/melioratus">Melioratus's</a> answer <a href="https://emacs.stackexchange.com/a/38935/31428">here</a>.
This way, I can maintain some semblance of a literate config.
</p>

<div class="org-src-container">
<pre><code class="language-org match-braces rainbow-braces">#+begin_src emacs-lisp :noweb-ref no :tangle (meq/tangle-path)
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">;;; $EMACSDIR/early-init.el -*- lexical-binding: t; -*- no-byte-compile: t -*-
(defvar user-emacs-directory (file-name-directory (or load-file-name buffer-file-name)))
(setq meq/var/initial-directory default-directory)
(defun meq/message (func &amp;rest args) (interactive)
    (let* ((*message (apply #'format args)))

        ;; NOTE: THE SPACE BEFORE `CREATING' IS MEANT TO BE THERE!
        (unless (or (string-prefix-p " Creating" *message)

                    (string-prefix-p "Configuring" *message)
                    (string-prefix-p "Loading" *message)
                    (string-prefix-p "Library is file" *message))
            (apply func args))))
(advice-add #'message :around #'meq/message)
(add-hook 'after-init-hook #'(lambda nil (interactive) (advice-remove #'message #'meq/message)))
(defun meq/*item-in-cla (item) (unwind-protect (member item command-line-args) (delete item command-line-args)))
(defun meq/*get-next-in-cla (item)
    (let* ((index (seq-position command-line-args item))
            (value (when index (nth (1+ index) command-line-args))))
        (when value (unwind-protect value (delete value command-line-args)))))
(defun meq/*two-items-in-list (item) (unwind-protect (when (member item command-line-args) (meq/*get-next-in-cla item)) (delete item command-line-args)))
(defvar meq/var/bootstrap (meq/*item-in-cla "--bootstrap"))
(defvar meq/var/force-bootstrap (meq/*item-in-cla "--force-bootstrap"))
(defvar meq/var/windows (member system-type '(windows-nt ms-dos)))
(defvar meq/var/slash (if meq/var/windows "\\" "/"))
(defvar meq/var/phone (ignore-errors (string-match-p (regexp-quote "Android") (shell-command-to-string "uname -a"))))
(defvar meq/var/wsl (ignore-errors (string-match-p (regexp-quote "microsoft-standard-WSL") (shell-command-to-string "uname -a"))))
(defvar meq/var/nixos (ignore-errors (string-match-p (regexp-quote "nixos") (shell-command-to-string "uname -a"))))
(defvar meq/var/we-are-borg (or (getenv "WEAREBORG") (meq/*item-in-cla "--we-are-borg")))
(setq package-enable-at-startup nil)
(setq meq/var/package-manager (if meq/var/we-are-borg "borg" "nix"))
(load (concat user-emacs-directory "siluam/"
    (pcase meq/var/package-manager
        ("package" "package-config.el")
        ("straight" "straight-config.el")
        ("quelpa" "quelpa.el")
        ("borg" "borg-cube.el")
        (_ "nix-config.el"))))
(setq load-prefer-newer t)
(mapc #'(lambda (pkg) (interactive)
  (let* ((pkg-name (symbol-name pkg)))
    (when meq/var/we-are-borg (ignore-errors (borg-activate pkg-name)))
    (unless (require pkg nil t)
        (pcase meq/var/package-manager
            ("package" (progn (add-to-list 'package-selected-packages pkg) (package-install pkg)))
            ("straight" (straight-use-package pkg))
            ("quelpa" (quelpa pkg))
            ("borg" (borg-assimilate pkg-name (borg-get pkg-name "url")))))
    (require pkg))) '(auto-compile no-littering gcmh))
(auto-compile-on-load-mode)
(auto-compile-on-save-mode)
(gcmh-mode 1)
(global-auto-revert-mode t) (auto-revert-mode t)
(setq global-auto-revert-non-file-buffers t
      auto-revert-verbose nil
      auto-revert-use-notify nil)
(require 'org-loaddefs)
(defun meq/call (program buffer-name &amp;rest args)
  (let ((process-connection-type nil)
        (buffer (generate-new-buffer buffer-name)))
    (with-current-buffer buffer
        (pop-to-buffer buffer)
        (if (eq (apply #'call-process program nil buffer nil args) 0)
            (unwind-protect (format "\n\n%s\n\n" (buffer-string)) (kill-buffer buffer))
            (error "%s: %s:\n\n%s" program args (buffer-string))))))
(defun meq/call-tangle (file) (meq/call "org-tangle" "*literally-configuring*" file))
(defun meq/org-babel-load-file-advice (file &amp;optional compile)
  "Load Emacs Lisp source code blocks in the Org FILE.
This function exports the source code using `org-babel-tangle'
and then loads the resulting file using `load-file'.  With
optional prefix argument COMPILE, the tangled Emacs Lisp file is
byte-compiled before it is loaded."
  (interactive "fFile to load: \nP")
  (let ((tangled-file (concat (file-name-sans-extension file) ".el")))
    ;; Tangle only if the Org file is newer than the Elisp file.
    (unless (org-file-newer-than-p
                tangled-file
                (file-attribute-modification-time
                    (file-attributes (file-truename file))))
        (meq/call-tangle file))
    (if compile
        (progn
            (byte-compile-file tangled-file)
            (load tangled-file)
            (message "Compiled and loaded %s" tangled-file))
        (load-file tangled-file)
        (message "Loaded %s" tangled-file))))
(advice-add #'org-babel-load-file :override #'meq/org-babel-load-file-advice)
(defun meq/reload-early-init nil (interactive) (org-babel-load-file (concat user-emacs-directory "README.org") t))
(meq/reload-early-init)
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-org match-braces rainbow-braces">#+end_src
</code></pre>
</div>

<p>
Start off by specifying the <code>user-emacs-directory</code>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">;;; $EMACSDIR/early-init.el -*- lexical-binding: t; -*- no-byte-compile: t -*-
(defvar user-emacs-directory (file-name-directory (or load-file-name buffer-file-name)))
</code></pre>
</div>

<p>
If I ever need it, this will give me the initial directory I was in; the code is adapted from <a href="https://emacs.stackexchange.com/users/1979/stefan">Stefan's</a> answer <a href="https://emacs.stackexchange.com/a/31662/31428">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq meq/var/initial-directory default-directory)
</code></pre>
</div>

<p>
Advise <code>message</code> to not show messages about creating autoloads and <code>Library is file</code>, then remove it after initialization:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defun meq/message (func &amp;rest args) (interactive)
    (let* ((*message (apply #'format args)))

        ;; NOTE: THE SPACE BEFORE `CREATING' IS MEANT TO BE THERE!
        (unless (or (string-prefix-p " Creating" *message)

                    (string-prefix-p "Configuring" *message)
                    (string-prefix-p "Loading" *message)
                    (string-prefix-p "Library is file" *message))
            (apply func args))))
(advice-add #'message :around #'meq/message)
(add-hook 'after-init-hook #'(lambda nil (interactive) (advice-remove #'message #'meq/message)))
</code></pre>
</div>

<p>
Define preliminary versions of <a href="https://github.com/shadowrylander/meq/blob/fa12afdcdd4b4e148c04936337239e165e7dcdb2/meq.el#L945">meq/item-in-cla</a>, <a href="https://github.com/shadowrylander/meq/blob/fa12afdcdd4b4e148c04936337239e165e7dcdb2/meq.el#L936">meq/get-next-in-cla</a>, and <a href="https://github.com/shadowrylander/meq/blob/fa12afdcdd4b4e148c04936337239e165e7dcdb2/meq.el#L951">meq/*two-items-in-cla</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defun meq/*item-in-cla (item) (unwind-protect (member item command-line-args) (delete item command-line-args)))
(defun meq/*get-next-in-cla (item)
    (let* ((index (seq-position command-line-args item))
            (value (when index (nth (1+ index) command-line-args))))
        (when value (unwind-protect value (delete value command-line-args)))))
(defun meq/*two-items-in-list (item) (unwind-protect (when (member item command-line-args) (meq/*get-next-in-cla item)) (delete item command-line-args)))
</code></pre>
</div>

<p>
Check if we're bootstrapping the system, and whether we want reinstall the packages:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defvar meq/var/bootstrap (meq/*item-in-cla "--bootstrap"))
(defvar meq/var/force-bootstrap (meq/*item-in-cla "--force-bootstrap"))
</code></pre>
</div>

<p>
This sets up various system-related variables, all fairly descriptive on their own:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defvar meq/var/windows (member system-type '(windows-nt ms-dos)))
(defvar meq/var/slash (if meq/var/windows "\\" "/"))
(defvar meq/var/phone (ignore-errors (string-match-p (regexp-quote "Android") (shell-command-to-string "uname -a"))))
(defvar meq/var/wsl (ignore-errors (string-match-p (regexp-quote "microsoft-standard-WSL") (shell-command-to-string "uname -a"))))
(defvar meq/var/nixos (ignore-errors (string-match-p (regexp-quote "nixos") (shell-command-to-string "uname -a"))))
</code></pre>
</div>

<p>
Are we borg?
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defvar meq/var/we-are-borg (or (getenv "WEAREBORG") (meq/*item-in-cla "--we-are-borg")))
</code></pre>
</div>

<p>
Disable <a href="https://www.emacswiki.org/emacs/InstallingPackages"><code>package.el</code></a> on startup: 
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq package-enable-at-startup nil)
</code></pre>
</div>

<p>
Methods of package management, including:
</p>
<ul class="org-ul">
<li><a href="https://www.emacswiki.org/emacs/InstallingPackages"><code>package.el</code></a></li>
<li><a href="https://github.com/radian-software/straight.el"><code>straight.el</code></a> by <a href="https://github.com/raxod502">Radon Rosborough</a> / <a href="https://github.com/radian-software">Radian LLC</a></li>
<li><a href="https://github.com/quelpa/quelpa"><code>quelpa</code></a></li>
<li><a href="https://nixos.org/"><code>nix</code></a></li>
<li><a href="https://github.com/emacscollective/borg">We Are Borg.</a></li>
</ul>


<div id="orgd2c85e5" class="figure">
<p><img src="./borg.gif" alt="borg.gif" />
</p>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq meq/var/package-manager (if meq/var/we-are-borg "borg" "nix"))
(load (concat user-emacs-directory "siluam/"
    (pcase meq/var/package-manager
        ("package" "package-config.el")
        ("straight" "straight-config.el")
        ("quelpa" "quelpa.el")
        ("borg" "borg-cube.el")
        (_ "nix-config.el"))))
</code></pre>
</div>

<p>
Avoid stale <code>*.elc</code> files using <a href="https://emacs.stackexchange.com/a/186/31428">this answer</a>, by <a href="https://emacs.stackexchange.com/users/50/malabarba">Malabarba</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq load-prefer-newer t)
</code></pre>
</div>

<p>
Set up startup optimization packages, including <a href="https://github.com/emacscollective/packed"><code>packed</code></a>, <a href="https://github.com/emacscollective/auto-compile"><code>auto-compile</code></a>, <a href="https://github.com/emacscollective/no-littering"><code>no-littering</code></a>, and <a href="https://github.com/emacsmirror/gcmh"><code>gcmh</code></a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(mapc #'(lambda (pkg) (interactive)
  (let* ((pkg-name (symbol-name pkg)))
    (when meq/var/we-are-borg (ignore-errors (borg-activate pkg-name)))
    (unless (require pkg nil t)
        (pcase meq/var/package-manager
            ("package" (progn (add-to-list 'package-selected-packages pkg) (package-install pkg)))
            ("straight" (straight-use-package pkg))
            ("quelpa" (quelpa pkg))
            ("borg" (borg-assimilate pkg-name (borg-get pkg-name "url")))))
    (require pkg))) '(auto-compile no-littering gcmh))
(auto-compile-on-load-mode)
(auto-compile-on-save-mode)
(gcmh-mode 1)
</code></pre>
</div>

<p>
Enable <code>auto-revert</code> modes to automagically update modified files on disk, from <a href="https://kundeveloper.com/blog/autorevert/">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(global-auto-revert-mode t) (auto-revert-mode t)
(setq global-auto-revert-non-file-buffers t
      auto-revert-verbose nil
</code></pre>
</div>

<p>
Don't notify us about auto-reversion, from <a href="https://stackoverflow.com/a/54369503/10827766">this answer</a> by <a href="https://stackoverflow.com/users/9848932/jdc">jdc</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">      auto-revert-use-notify nil)
</code></pre>
</div>

<p>
We Are <code>Org</code>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(require 'org-loaddefs)
</code></pre>
</div>

<p>
Create a version of <a href="https://github.com/emacscollective/borg/blob/master/borg.el#L912">borg's git call</a> function to call any shell command:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defun meq/call (program buffer-name &amp;rest args)
  (let ((process-connection-type nil)
        (buffer (generate-new-buffer buffer-name)))
    (with-current-buffer buffer
        (pop-to-buffer buffer)
        (if (eq (apply #'call-process program nil buffer nil args) 0)
            (unwind-protect (format "\n\n%s\n\n" (buffer-string)) (kill-buffer buffer))
            (error "%s: %s:\n\n%s" program args (buffer-string))))))
</code></pre>
</div>

<p>
Then create a shell tangle function based on the above:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defun meq/call-tangle (file) (meq/call "org-tangle" "*literally-configuring*" file))
</code></pre>
</div>

<p>
Modify <a href="https://code.orgmode.org/bzg/org-mode/src/master/lisp/org.el#L222"><code>org-babel-load-file</code></a> to use the above function instead:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defun meq/org-babel-load-file-advice (file &amp;optional compile)
  "Load Emacs Lisp source code blocks in the Org FILE.
This function exports the source code using `org-babel-tangle'
and then loads the resulting file using `load-file'.  With
optional prefix argument COMPILE, the tangled Emacs Lisp file is
byte-compiled before it is loaded."
  (interactive "fFile to load: \nP")
  (let ((tangled-file (concat (file-name-sans-extension file) ".el")))
    ;; Tangle only if the Org file is newer than the Elisp file.
    (unless (org-file-newer-than-p
                tangled-file
                (file-attribute-modification-time
                    (file-attributes (file-truename file))))
        (meq/call-tangle file))
    (if compile
        (progn
            (byte-compile-file tangled-file)
            (load tangled-file)
            (message "Compiled and loaded %s" tangled-file))
        (load-file tangled-file)
        (message "Loaded %s" tangled-file))))
(advice-add #'org-babel-load-file :override #'meq/org-babel-load-file-advice)
</code></pre>
</div>

<p>
Then finally create the function to [re]load the primary early-init in this README and load it for the first time:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defun meq/reload-early-init nil (interactive) (org-babel-load-file (concat user-emacs-directory "README.org") t))
(meq/reload-early-init)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org4be7460" class="outline-2">
<h2 id="org4be7460">Startup</h2>
<div class="outline-text-2" id="text-org4be7460">
<p>
Remove <code>--</code> from scripts:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(when (string= (car (last command-line-args)) "--") (delete "--" command-line-args))
</code></pre>
</div>
</div>

<div id="outline-container-org557a1f2" class="outline-3">
<h3 id="org557a1f2">Optimizations</h3>
<div class="outline-text-3" id="text-org557a1f2">
<p>
Startup optimizations from <a href="https://github.com/hlissner">Henrik Lissner's</a> <a href="https://github.com/hlissner/doom-emacs/blob/develop/early-init.el">Doom Emacs' <code>early-init.el</code></a>:
</p>

<blockquote>
<p>
Emacs 27.1 introduced early-init.el, which is run before init.el, before
package and UI initialization happens, and before site files are loaded.
</p>
</blockquote>

<blockquote>
<p>
A big contributor to startup times is garbage collection. We up the gc
threshold to temporarily prevent it from running, then reset it later by
enabling `gcmh-mode'. Not resetting it will cause stuttering/freezes.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq gc-cons-threshold most-positive-fixnum)
</code></pre>
</div>

<p>
And for the <code>file-name-handler-alist</code>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq meq/var/file-name-handler-alist file-name-handler-alist)
(unless (or (daemonp) noninteractive)
</code></pre>
</div>

<blockquote>
<p>
`file-name-handler-alist' is consulted on each `require', `load' and
various path/io functions. You get a minor speed up by unsetting this.
Some warning, however: this could cause problems on builds of Emacs where
its site lisp files aren't byte-compiled and we're forced to load the
*.el.gz files (e.g. on Alpine).
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    (setq-default file-name-handler-alist nil)
</code></pre>
</div>

<blockquote>
<p>
&#x2026;but restore `file-name-handler-alist' later, because it is needed for
handling encrypted or compressed files, among other things.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    (defun meq/reset-file-handler-alist-h ()
      (setq file-name-handler-alist
</code></pre>
</div>

<blockquote>
<p>
Merge instead of overwrite because there may have bene changes to
`file-name-handler-alist' since startup we want to preserve.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">            (delete-dups (append file-name-handler-alist
                                 meq/var/file-name-handler-alist))))
    (add-hook 'emacs-startup-hook #'meq/reset-file-handler-alist-h 101))
</code></pre>
</div>

<p>
The next few bits are adapted from <a href="https://www.reddit.com/r/emacs/comments/dppmqj/do_i_even_need_to_leverage_earlyinitel_if_i_have/?utm_source=amp&amp;utm_medium=&amp;utm_content=post_body">here</a>, with a few quotes from myself and others scattered here and there,
such as this bit <a href="https://www.reddit.com/r/emacs/comments/41m7x3/why_are_you_changing_gcconsthreshold/cz3t775?utm_source=share&amp;utm_medium=web2x&amp;context=3">about <code>gc-cons-percentage</code></a>:
</p>

<blockquote>
<p>
&#x2026; There's also gc-cons-percentage which performs a gc if the amount of new memory used as a percentage
of the total has increased by a certain amount.
If you set gc-cons-threshold to a large number that effectively puts gc-cons-percentage into the driving seat.
The default gc-cons-threshold is 400000 bytes, not 800000. &#x2026;
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defvar meq/var/gc-cons-percentage gc-cons-percentage)

(add-hook 'after-init-hook
          (lambda ()
            (setq gc-cons-percentage meq/var/gc-cons-percentage)

            (defun meq/gc-on-lose-focus ()
              (unless (frame-focus-state)
                (garbage-collect)))

            (if (boundp 'after-focus-change-function)
                (add-function :after after-focus-change-function #'meq/gc-on-lose-focus))))

(setq-default gc-cons-percentage 0.6)
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq-default auto-window-vscroll nil
    frame-inhibit-implied-resize t
    inhibit-compacting-font-caches t)
(fset 'yes-or-no-p 'y-or-n-p)
(fset 'view-hello-file 'ignore)
(fset 'display-startup-echo-area-message 'ignore)

(put 'narrow-to-region 'disabled nil)
(put 'up-case-rgion 'disabled nil)
(put 'downcase-region 'disabled nil)
(put 'erase-buffer 'disabled nil)

(push '(ns-transparent-titlebar . t) default-frame-alist)
(push '(ns-appearance . nil) default-frame-alist)
(push '(internal-border . 0) default-frame-alist)
(push '(menu-bar-lines . 0) default-frame-alist)
(push '(tool-bar-lines . 0) default-frame-alist)
(push '(vertical-scroll-bars . 0) default-frame-alist)
(push '(left-fringe . 0) default-frame-alist)
(push '(right-fringe . 0) default-frame-alist)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orge9cdac7" class="outline-3">
<h3 id="orge9cdac7">Libraries</h3>
<div class="outline-text-3" id="text-orge9cdac7">
<p>
Byte-compile the library directories and add them to the load-path now; the following bits are adapted from <a href="https://emacs.stackexchange.com/users/14825/nickd">NickD's</a> answer <a href="https://emacs.stackexchange.com/a/55415/31428">here</a>,
and <a href="https://www.emacswiki.org/emacs/LoadPath#h5o-2">from this section of the Emacs Wiki</a>.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(let* ((default-directory (concat user-emacs-directory "siluam")))
    (normal-top-level-add-to-load-path '("."))
    (normal-top-level-add-subdirs-to-load-path))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org5d79c3c" class="outline-3">
<h3 id="org5d79c3c">Native Comp</h3>
<div class="outline-text-3" id="text-org5d79c3c">
<p>
These are two settings I like for <code>native compilation</code>, adapted from <a href="https://github.com/daviwil/dotfiles/blob/master/Emacs.org#native-compilation">here</a>:
</p>

<blockquote>
<p>
Silence compiler warnings as they can be pretty disruptive
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(ignore-errors
    (setq native-comp-async-report-warnings-errors nil)
</code></pre>
</div>

<blockquote>
<p>
Set the right directory to store the native comp cache
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    (add-to-list 'native-comp-eln-load-path (meq/ued-local "eln-cache/")))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orge129f3a" class="outline-3">
<h3 id="orge129f3a">We are Borg.</h3>
<div class="outline-text-3" id="text-orge129f3a">
<p>
<i>Finally</i> activate my function library:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(require 'meq)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org5c3bd68" class="outline-3">
<h3 id="org5c3bd68">Custom</h3>
<div class="outline-text-3" id="text-org5c3bd68">
<p>
As adapted from <a href="https://emacs.stackexchange.com/users/2731/ebpa">ebpa's</a> answer <a href="https://emacs.stackexchange.com/a/18682/31428">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq custom-file (meq/ued "custom.el"))
(meq/cl custom-file)
(setq auto-save-list-file-prefix user-emacs-directory)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgede4095" class="outline-3">
<h3 id="orgede4095">Themes</h3>
<div class="outline-text-3" id="text-orgede4095">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(byte-recompile-directory (meq/ued "themes") nil)
(add-to-list 'custom-theme-load-path (meq/ued "themes"))
(setq custom-safe-themes t)
</code></pre>
</div>

<p>
By the way, I get most of my themes from <a href="https://themer.dev/">themer.dev</a>.
</p>
</div>
</div>

<div id="outline-container-orge5e2c9b" class="outline-3">
<h3 id="orge5e2c9b">Packages</h3>
<div class="outline-text-3" id="text-orge5e2c9b">
</div>

<div id="outline-container-orga29bde1" class="outline-4">
<h4 id="orga29bde1">use-package</h4>
<div class="outline-text-4" id="text-orga29bde1">
<p>
<a href="https://github.com/jwiegley/use-package">use-package</a> with <a href="https://github.com/jwiegley">John Wiegley</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(with-no-warnings
  (setq use-package-verbose t)
  (setq use-package-enable-imenu-support t))
(require 'use-package)
</code></pre>
</div>

<p>
Search the <code>command-line-args</code> list for the <code>--always-demand</code> argument and set <code>use-package-always-demand</code> accordingly,
then delete the argument from the list; also set the variable if Emacs is running as a daemon.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq use-package-always-demand (or (meq/item-in-cla "--always-demand") (daemonp)))
</code></pre>
</div>
</div>

<ul class="org-ul">
<li><a id="org42a56c9"></a>Sometimes defer package loading<br />
<div class="outline-text-5" id="text-org42a56c9">
<p>
Quoted from <a href="https://github.com/jwiegley/use-package#loading-packages-in-sequence">Use-Package's Loading packages in sequence</a>:
</p>

<blockquote>
<p>
NOTE: pay attention if you set use-package-always-defer to t, and also use the :after keyword, as you will need to specify how the
declared package is to be loaded: e.g., by some :bind. If you're not using one of the mechanisms that registers autoloads, such as
:bind or :hook, and your package manager does not provide autoloads, it's possible that without adding :defer 2 to those declarations,
your package will never be loaded.
</p>
</blockquote>

<p>
Quoted from <a href="https://github.com/jwiegley/use-package#notes-about-lazy-loading">Use-Package's Notes about lazy loading</a>:
</p>

<blockquote>
<p>
In almost all cases you don't need to manually specify :defer t. This is implied whenever :bind or :mode or :interpreter is used.
Typically, you only need to specify :defer if you know for a fact that some other package will do something to cause your package to
load at the appropriate time, and thus you would like to defer loading even though use-package isn't creating any autoloads for you.
You can override package deferral with the :demand keyword. Thus, even if you use :bind, using :demand will force loading to occur
immediately and not establish an autoload for the bound key.
</p>
</blockquote>

<p>
Quoted from <a href="https://github.com/jwiegley/use-package#modes-and-interpreters">Use-Package's Modes and interpreters</a>:
</p>

<blockquote>
<p>
Similar to :bind, you can use :mode and :interpreter to establish a deferred binding within the auto-mode-alist and interpreter-mode-alist variables.
&#x2026;
If you aren't using :commands, :bind, :bind*, :bind-keymap, :bind-keymap*, :mode, :interpreter, or :hook
(all of which imply :defer; see the docstring for use-package for a brief description of each), you can still defer loading with the :defer keyword&#x2026;
</p>
</blockquote>

<p>
Quoted from <a href="https://github.com/jwiegley/use-package#magic-handlers">Use-Package's Magic handlers</a>:
</p>

<blockquote>
<p>
Similar to :mode and :interpreter, you can also use :magic and :magic-fallback to cause certain function to be run if the beginning of a file matches
a given regular expression.
&#x2026;
This registers an autoloaded command for pdf-view-mode, defers loading of pdf-tools, and runs pdf-view-mode if the beginning of a buffer matches the string "%PDF".
</p>
</blockquote>

<p>
Quoted from <a href="https://github.com/Kungsgeten/ryo-modal#use-package-keyword">RYO-Modal's Use-package keyword</a>:
</p>

<blockquote>
<p>
Ryo-modal also provides a use-package keyword: :ryo, which is similar to :bind in that it implies :defer t and create autoloads for the bound commands.
The keyword is followed by one or more key-binding commands, using the same syntax as used by ryo-modal-keys&#x2026;
</p>
</blockquote>

<p>
Quoted from <a href="https://github.com/noctuid/general.el#use-package-keywords">General's Use-package Keywords</a>:
</p>

<blockquote>
<p>
:general is similar to :bind in that it implies :defer t whenever there are bound commands that can be autoloaded
(e.g. it will not imply :defer t if the only bound command is to a lambda, for example). Whenever autoloadable commands are bound,
use-package will create autoloads for them (though this is usually not necessary).
</p>
</blockquote>

<p>
Quoted from <a href="https://github.com/noctuid/general.el#ghook-keyword">General's :ghook Keyword</a>:
</p>

<blockquote>
<p>
:ghook is intended to be used to add a package’s minor mode enabling function to a user-specified hook, so that when hook is run,
the package will be loaded and the mode enabled. This means that :ghook will usually imply :defer t. While it does not always imply :defer t,
it will add any non-lambda functions to :commands (this is the same behavior as :hook).
Though this is usually unnecessary (the commands probably already have autoloads), it will in turn imply :defer t.
</p>
</blockquote>

<p>
Quoted from <a href="https://github.com/noctuid/general.el#gfhook-keyword">General's :gfhook Keyword</a>:
</p>

<blockquote>
<p>
Unlike :ghook, :gfhook never adds functions to :commands and therefore never implies :defer t.
This is because the functions specified are ones that should be run when turning on (or toggling) the mode(s) the package provides.
The specified functions are external to the package, could be called elsewhere, and therefore should not trigger the package to load.
</p>
</blockquote>

<p>
Also see <a href="https://github.com/jwiegley/use-package/issues/738#issuecomment-447631609">this comment</a>.
</p>

<p>
Note that I assume that <a href="https://github.com/jwiegley/use-package#use-package-chords">chords</a> also defer and create autoloads.
</p>

<p>
And in my experience&#x2026; Not a good idea; much too confusing. Use <a href="https://www.reddit.com/r/emacs/comments/j2xezg/usepackage_best_practices/">the arguments here</a> to decide whether to use this or <code>:defer &lt;n&gt;</code> instead.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq use-package-always-defer (meq/item-in-cla "--always-defer"))
</code></pre>
</div>
</div>
</li>

<li><a id="org83f5c65"></a>extras<br />
<div class="outline-text-5" id="text-org83f5c65">
<p>
This sets up <a href="https://github.com/conao3/leaf.el">leaf.el</a> by <a href="https://github.com/conao3">Naoya Yamashita</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package leaf :demand t
    :init (defmacro meq/leaf (&amp;rest args) `(leaf ,@args :require ,(cl-getf args :require t)))
    :config (use-package leaf-keywords :demand t))
</code></pre>
</div>

<p>
And then <a href="https://github.com/shadowrylander/use-package-extras">use-package-extras</a> by yours truely:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package use-package-extras :demand t
    ;; :config (meq/up use-package-ensure-system-package)
    )
</code></pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgade39c7" class="outline-4">
<h4 id="orgade39c7">hydra</h4>
<div class="outline-text-4" id="text-orgade39c7">
<p>
This sets up <a href="https://github.com/abo-abo/hydra">hydra</a> by <a href="https://github.com/abo-abo">Oleh Krehel</a>, as well as its <code>use-package</code> keywords:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up hydra
    :custom (hydra-hint-display-type 'lv)
    :bind (:map hydra-base-map ("~" . hydra--universal-argument))
</code></pre>
</div>

<p>
This bit sets up the following:
</p>
<ul class="org-ul">
<li><a href="https://github.com/shadowrylander/janus">janus</a> by yours truely</li>
<li><a href="https://gitlab.com/to1ne/use-package-hydra">use-package-hydra</a> by <a href="https://gitlab.com/to1ne">to1ne</a></li>
<li><a href="https://github.com/shadowrylander/use-package-deino">use-package-deino</a> by yours truely</li>
<li><a href="https://github.com/shadowrylander/deino">deino</a>, forked from</li>
</ul>
<p>
<a href="https://github.com/abo-abo/hydra">hydra</a> by <a href="https://github.com/abo-abo">Oleh Krehel</a>
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :use-package-preconfig (janus) (use-package-hydra)
    :use-package-postconfig (use-package-deino) (deino :custom (deino-hint-display-type 'lv)))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org9a899fc" class="outline-4">
<h4 id="org9a899fc">alloy</h4>
<div class="outline-text-4" id="text-org9a899fc">
<p>
Here is the configuration for <a href="https://github.com/shadowrylander/alloy">alloy</a>, forked from <a href="https://github.com/noctuid/general.el">general.el</a> by <a href="https://github.com/noctuid">Fox Kiester</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up alloy
</code></pre>
</div>

<p>
This sets up the following:
</p>
<ul class="org-ul">
<li><a href="https://github.com/shadowrylander/lode">lode</a> by yours truely! :D</li>
<li><a href="https://github.com/shadowrylander/prime">prime</a> by yours truely! :D</li>
<li><a href="https://github.com/lewang/command-log-mode">command-log-mode</a> by <a href="https://github.com/lewang">Le Wang</a></li>
<li><a href="https://github.com/waymondo/use-package-chords">use-package-chords</a> by <a href="https://github.com/waymondo">justin talbott</a></li>
</ul>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :use-package-preconfig (command-log-mode)
        ;; Important: https://github.com/noctuid/general.el/issues/53#issuecomment-307262154
        (use-package-chords)
</code></pre>
</div>

<p>
I don't like having to unbind keys before reassigning them:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :config (alloy-auto-unbind-keys)
</code></pre>
</div>

<p>
This binds some fundamental keys to the following keymaps:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(defvar demon-run '(global override
    aiern-insert-state-map
    aiern-normal-state-map
    aiern-god-state-map
    evil-insert-state-map
    evil-normal-state-map
    evil-god-state-map))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (alloy-def :keymaps demon-run
                ;; Adapted From:
                ;; Answer: https://stackoverflow.com/a/4557027/10827766
                ;; User: https://stackoverflow.com/users/387076/gilles-so-stop-being-evil
                "\eOA" [up]
                "\e[A" [up]
                "\eOB" [down]
                "\e[B" [down]
                "\eOD" [left]
                "\e[D" [left]
                "\eOC" [right]
                "\e[C" [right]
                "M-x" 'meq/M-x
                (alloy-chord "jj") 'universal-argument
                (naked "&lt;tab&gt;") 'org-cycle
                (naked "backtab") 'org-shifttab
            :keymaps 'universal-argument-map (alloy-chord "jj") 'universal-argument-more)
</code></pre>
</div>

<p>
And finally, this allows <code>alloy</code> to assume <code>kbd</code> is being used, or in this case, <a href="https://www.emacswiki.org/emacs/naked.el">naked</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :custom (alloy-implicit-naked t))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org0fdb3a1" class="outline-4">
<h4 id="org0fdb3a1">prime</h4>
<div class="outline-text-4" id="text-org0fdb3a1">
<p>
Set up <a href="https://github.com/shadowrylander/prime">prime</a> by yours truely:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up prime)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgbe0f55d" class="outline-4">
<h4 id="orgbe0f55d">uru</h4>
<div class="outline-text-4" id="text-orgbe0f55d">
<p>
This sets up my package <a href="https://github.com/shadowrylander/uru">uru</a>, which activates <code>deinos</code> based on the current major-mode, as mentioned in <a href="https://codeberg.org/dr.ops/medusa/src/branch/main/medusa.org#headline-4">magic medusa hydra</a>, by <a href="https://codeberg.org/dr.ops">Andy Drop</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up uru :prime ("u u" uru "uru") ("u m" minoru "minoru"))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgb3878bb" class="outline-4">
<h4 id="orgb3878bb">which-key</h4>
<div class="outline-text-4" id="text-orgb3878bb">
<p>
The incredible <a href="https://github.com/justbur/emacs-which-key">emacs-which-key</a> by the incredible <a href="https://github.com/justbur">Justin Burkett</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up which-key :deino (deino/which-key (:color blue :columns 4) "w"
        ("`" nil "cancel")
        ("a" cosmoem-any-popup-showing-p "any popup showing")
        ("h" meq/which-key--hide-popup "hide-popup")
        ("s" meq/which-key--show-popup "show-popup")
        ("r" meq/which-key--refresh-popup "refresh-popup")
        ("t" meq/toggle-which-key "toggle")
        ("l" meq/which-key-show-top-level "meq/toplevel")
        ("L" which-key-show-top-level "toplevel"))
    :gsetq
        (which-key-enable-extended-define-key t)
        (which-key-idle-delay 0.1)
        (which-key-idle-secondary-delay nil)
        (which-key-allow-evil-operators t)

        ;; NOTE: This will cause the which-key maps for the operator states to show up,
        ;; breaking functionality such as `d 13 &lt;arrow-down&gt;', etc.
        ;; (which-key-show-operator-state-maps t)

        ;; TODO: Choose a fun one!
        (which-key-separator " × ")
        ;; (which-key-separator " |-&gt; ")

        (which-key-popup-type 'side-window)
        (which-key-side-window-location '(right bottom left top))

        ;; If this percentage is too small, the keybindings frame will appear at the bottom
        (which-key-side-window-max-width 0.5)

        (which-key-side-window-max-height 0.25))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgf49283c" class="outline-4">
<h4 id="orgf49283c">cosmoem</h4>
<div class="outline-text-4" id="text-orgf49283c">
<p>
<a href="https://bulbapedia.bulbagarden.net/wiki/Nebby">Nebby</a>
<a href="./nebby.webp">./nebby.webp</a>
</p>

<p>
Meet the <a href="https://gitlab.com/shadowrylander/cosmoem">cosmoem</a> named <a href="https://bulbapedia.bulbagarden.net/wiki/Nebby">Nebby</a>, forked from <a href="https://gitlab.com/jjzmajic/hercules.el">hercules.el</a> by <a href="https://gitlab.com/jjzmajic">jjzmajic</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up cosmoem
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :prime (", m" map-of-infinity/body "map-of-infinity")
    :config (meq/which-key-change-ryo "," "damascus")
</code></pre>
</div>

<p>
This sets up a few things to create a <code>deino</code> of <code>cosmoem</code> maps, adapted from <a href="https://gitlab.com/jjzmajic/cosmoem.el/-/blob/master/cosmoem.el#L83">here</a>
and <a href="https://github.com/emacsorphanage/god-mode/blob/master/god-mode.el#L392">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :gsetq (meq/var/all-keymaps-map nil)
            (meq/var/alamode-aiern-was-on (member "aiern" meq/var/ignored-modal-prefixes))
            (meq/var/alamode-evil-was-on (member "evil" meq/var/ignored-modal-prefixes))
    :config/defun* (meq/toggle-inner (mode prefix mode-on map &amp;optional use-cosmoem force) (interactive)
                    (meq/disable-all-modal-modes nil (not mode-on))
                    (if mode-on
                        (when force (meq/which-key--show-popup map force))
                        (funcall mode 1)
                        (when (featurep 'which-key)
                            (if use-cosmoem
                                (ignore-errors (funcall (meq/inconcat "meq/" prefix "-cosmoem-show")))
                                (meq/which-key-show-top-level map)))))
                (meq/execute-with-current-bindings-inner (mode prefix mode-on map &amp;optional use-cosmoem called-interactively)
                    (interactive "d")
                    (unless mode-on
                        (letrec ((caller this-command)
                                (buffer (current-buffer))
                                (cleanup
                                    (lambda ()
                                    ;; Perform cleanup in original buffer even if the command
                                    ;; switched buffers.
                                    (if (buffer-live-p buffer)
                                        (with-current-buffer buffer
                                            (unwind-protect
                                                (progn
                                                    (setq overriding-terminal-local-map meq/var/alamode-backup-terminal-local-map)
                                                    (funcall mode -1)
                                                    (when meq/var/alamode-aiern-was-on (aiern-mode 1))
                                                    (when meq/var/alamode-evil-was-on (evil-mode 1))
                                                    (meq/which-key-show-top-level))
                                                (remove-hook 'post-command-hook post-hook)))
                                        (remove-hook 'post-command-hook post-hook))))
                                (kill-transient-map (lambda nil (interactive)
                                                        (set-transient-map map 'meq/god-prefix-command-p cleanup)))
                                (post-hook (lambda nil (unless (and
                                                                (eq this-command caller)
                                                                ;; If we've entered the minibuffer, this implies
                                                                ;; a non-prefix command was run, even if
                                                                ;; `this-command' has not changed.  For example,
                                                                ;; `execute-extended-command' behaves this way.
                                                                (not (window-minibuffer-p)))
                                                            (funcall kill-transient-map)))))
                            (add-hook 'post-command-hook post-hook)
                            ;; Pass the current prefix argument along to the next command.
                            (setq prefix-arg current-prefix-arg)
                            ;; Technically we don't need to activate %p mode since the
                            ;; transient keymap is already in place, but it's useful to provide
                            ;; a mode line lighter and run any hook functions the user has set
                            ;; up.  This could be made configurable in the future.
                            (funcall mode 1)
                            (when (featurep 'which-key) (meq/which-key-show-top-level map))
                            (setq meq/var/alamode-backup-terminal-local-map overriding-terminal-local-map)
                            (setq deino-enabled-temporarily t
                                overriding-terminal-local-map (symbol-value map))
                            (when (string= prefix "god")
                                (when (meq/fbatp aiern-mode) (setq meq/var/alamode-aiern-was-on t) (aiern-mode -1))
                                (when (meq/fbatp evil-mode) (setq meq/var/alamode-evil-was-on t) (evil-mode -1)))
                            (message (format "Switched to %s mode for the next command ..." prefix)))))
</code></pre>
</div>

<p>
This <code>deino</code> leads to a bunch of other useful <code>deinos</code>, as well as a few useful functions:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :deino (map-of-infinity nil ", m"
        ("`" nil "cancel")
        ("w" deino/which-key/body "which-key")
        ("h" deino/cosmoem/body "cosmoem")
        ("d" meq/disable-all-modal-modes "disable all modal modes" :color blue)
        ("t" toggles/body "toggles")
        ("k" all-keymaps/body "all keymaps"))
</code></pre>
</div>

<p>
The <code>deino</code> for this package:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (deino/cosmoem (:color blue) ", c"
            ("`" nil "cancel")
            ("h" cosmoem-hide-all-modal-modes "hide all modal modes"))
</code></pre>
</div>

<p>
A <code>deino</code> for all my modal-mode toggles:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (toggles (:color blue) ", t" ("`" nil "cancel"))
</code></pre>
</div>

<p>
A <code>deino</code> for all my modal-mode keymaps:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (all-keymaps (:color blue) ", k" ("`" nil "cancel")))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgcf1974e" class="outline-4">
<h4 id="orgcf1974e">sorrow</h4>
<div class="outline-text-4" id="text-orgcf1974e">
<p>
Finally, <a href="https://github.com/shadowrylander/sorrow">sorrow</a>, forked from <a href="https://github.com/Kungsgeten/ryo-modal">ryo-modal</a> by <a href="https://github.com/Kungsgeten">Erik Sjöstrand</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up sorrow :primer+ ("t" "toggles")
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :config
        ;;;###autoload
        (defdeino+ toggles (:color blue) ("s" meq/toggle-sorrow "sorrow"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("s" meq/sorrow-show-top-level "sorrow"))
        
        ;;;###autoload
        (defminorua 4 sorrow-mode deino-ala-sorrow nil "; m s" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/sorrow-cosmoem-show
            :hide-funs #'meq/sorrow-cosmoem-hide
            :toggle-funs #'meq/sorrow-cosmoem-toggle
            :keymap 'sorrow-mode-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t s" meq/toggle-sorrow-cosmoem "sorrow")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/sorrow-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/sorrow-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'sorrow-mode-map)
            (when (featurep 'sorrow) (meq/which-key-show-top-level 'sorrow-mode-map)))
        
        ;;;###autoload
        (defun meq/toggle-sorrow (ua) (interactive "p")
            (when (featurep 'sorrow) (if (= ua 4)
                (funcall 'meq/toggle-inner 'sorrow-mode "sorrow" (meq/fbatp sorrow-mode) 'sorrow-mode-map nil t)
                (funcall 'meq/toggle-inner 'sorrow-mode "sorrow" (meq/fbatp sorrow-mode) 'sorrow-mode-map))))
        
        ;;;###autoload
        (defun meq/toggle-sorrow-cosmoem (ua) (interactive "p")
            (when (featurep 'sorrow) (if (= ua 4)
                (funcall 'meq/toggle-inner 'sorrow-mode "sorrow" (meq/fbatp sorrow-mode) 'sorrow-mode-map t t)
                (funcall 'meq/toggle-inner 'sorrow-mode "sorrow" (meq/fbatp sorrow-mode) 'sorrow-mode-map t))))
        
        ;;;###autoload
        (defun meq/sorrow-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'sorrow) (funcall 'meq/execute-with-current-bindings-inner 'sorrow-mode "sorrow" (meq/fbatp sorrow-mode) 'sorrow-mode-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/sorrow-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'sorrow) (funcall 'meq/execute-with-current-bindings-inner 'sorrow-mode "sorrow" (meq/fbatp sorrow-mode) 'sorrow-mode-map t called-interactively)))
        
        (with-eval-after-load 'sorrow (add-to-list 'meq/var/modal-modes 'sorrow-mode) (add-to-list 'meq/var/modal-prefixes "sorrow"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    ;; From: https://github.com/shadowrylander/sorrow#which-key-integration
    (push '((nil . "sorrow:.*:") . (nil . "")) which-key-replacement-alist))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org61a9105" class="outline-4">
<h4 id="org61a9105">exec-path-from-shell</h4>
<div class="outline-text-4" id="text-org61a9105">
<p>
Unless I'm on Windows or a DOS-based OS, I'll need to make sure every executable available on my <code>$PATH</code> can be found by Emacs as well, using
<a href="https://github.com/purcell/exec-path-from-shell">exec-path-from-shell</a> by <a href="https://github.com/purcell">Steve Purcell</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(unless (meq/windows-p)
    (meq/up exec-path-from-shell
        :gsetq
            (exec-path-from-shell-check-startup-files nil)
            (exec-path-from-shell-variables '("PATH" "MANPATH" "CACHE_HOME" "FPATH" "PYENV_ROOT"))
            (exec-path-from-shell-arguments '("-l"))
        :config
            (exec-path-from-shell-initialize)))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org1eef518" class="outline-4">
<h4 id="org1eef518">undo-fu</h4>
<div class="outline-text-4" id="text-org1eef518">
<p>
Set up <a href="https://github.com/emacsmirror/undo-fu">undo-fu</a> and <a href="https://github.com/emacsmirror/undo-fu-session">undo-fu-session</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up undo-fu :deino (deino-undo nil "u"
        ("u" undo-fu-only-undo "undo")
        ("r" undo-fu-only-redo "redo")
        ("R" undo-fu-only-redo-all "redo all"))
    :upnsd-postconfig
        (undo-fu-session
            :gsetq
              (undo-fu-session-directory (meq/ued-local "undo-fu-session"))
              (undo-fu-session-incompatible-files '("/COMMIT_EDITMSG\\'" "/git-rebase-todo\\'"))
            :hook (after-init . global-undo-fu-session-mode)))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org3dc469c" class="outline-4">
<h4 id="org3dc469c">lode</h4>
<div class="outline-text-4" id="text-org3dc469c">
<p>
Set up <a href="https://github.com/shadowrylander/lode">lode</a> by yours truely:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up lode)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org8f6a2ae" class="outline-4">
<h4 id="org8f6a2ae">meta</h4>
<div class="outline-text-4" id="text-org8f6a2ae">
<p>
Set up <a href="https://github.com/shadowrylander/meta">meta</a> by yours truely:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up meta)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org93a8852" class="outline-4">
<h4 id="org93a8852">aiern</h4>
<div class="outline-text-4" id="text-org93a8852">
<p>
<a href="https://github.com/shadowrylander/aiern">aiern</a> is my version of <a href="https://github.com/emacs-evil/evil">evil</a>; this first bit of config will enable <code>aiern</code> on initialization and add it to the list of ignored modal-modes,
such that it isn't disabled by <code>meq/disable-all-modal-modes</code>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up aiern
    :gsetq (aiern-undo-system 'undo-fu aiern-move-beyond-eol t)
    :hook (after-init . (lambda nil (interactive) (meq/add-to-ignored-modal-modes aiern (setq state (list aiern-default-state)))))
</code></pre>
</div>

<p>
Both <code>evil</code> and <code>aiern</code> require <a href="https://github.com/justbur/emacs-bind-map">emacs-bind-map</a>, by <a href="https://github.com/justbur">Justin Burkett</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :use-package-preconfig (bind-map)
</code></pre>
</div>

<p>
More aiern, courtesy of <a href="https://github.com/shadowrylander/aiern-aiernhide-state">this</a>, <a href="https://github.com/mohsenil85/evil-evilified-state">this</a>, and <a href="https://github.com/syl20bnr/spacemacs">this</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :use-package-postconfig (aiern-aiernhide-state)
</code></pre>
</div>

<p>
The <code>:meta-aiern</code> keyword, from my very own <a href="https://github.com/shadowrylander/meta">meta</a> package, creates a hydra out of the keymaps passed to it,
in this case being <code>aiern-normal-state-map</code> and <code>aiern-insert-state-map</code>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :meta-aiern (aiern-normal-state-map) (aiern-insert-state-map)
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    ;; :demon
        ;; ((alloy-chord "") 'meq/toggle-aiern-ex-cosmoem)

        ;; TODO
        ;; ((alloy-chord "''") 'aiern-ex)
    :config
        ;; TODO: How do I create a keymap `aiern-ex-keymap' out of the `aiern-ex-commands' alist?

        ;; (cosmoem-def :show-funs #'meq/aiern-ex-cosmoem-show
        ;;     :hide-funs #'meq/aiern-ex-cosmoem-hide
        ;;     :toggle-funs #'meq/aiern-ex-cosmoem-toggle
        ;;     :keymap 'aiern-ex-keymap
        ;;     ;; :transient t
        ;; )

        ;; (defun meq/aiern-ex-cosmoem-toggle nil (interactive))
        ;; (defun meq/aiern-ex-show-top-level nil (interactive)
        ;;     (meq/which-key-show-top-level 'aiern-ex-keymap))

        ;; (defun meq/toggle-aiern-ex (ua) (interactive "p")
        ;;     (if (= ua 4)
        ;;         (funcall 'meq/toggle-inner 'aiern-mode "aiern-ex" (meq/fbatp aiern-mode) 'aiern-ex-keymap nil t)
        ;;         (funcall 'meq/toggle-inner 'aiern-mode "aiern-ex" (meq/fbatp aiern-mode) 'aiern-ex-keymap)))
        ;; (defun meq/toggle-aiern-ex-cosmoem (ua) (interactive "p")
        ;;     (if (= ua 4)
        ;;         (funcall 'meq/toggle-inner 'aiern-mode "aiern-ex" (meq/fbatp aiern-mode) 'aiern-ex-keymap t t)
        ;;         (funcall 'meq/toggle-inner 'aiern-mode "aiern-ex" (meq/fbatp aiern-mode) 'aiern-ex-keymap t)))
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;;;###autoload
        (defdeino+ toggles (:color blue) ("a" meq/toggle-aiern "aiern"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("a" meq/aiern-show-top-level "aiern"))
        
        ;;;###autoload
        (defminorua 4 aiern-mode deino-ala-aiern nil "; m a" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/aiern-cosmoem-show
            :hide-funs #'meq/aiern-cosmoem-hide
            :toggle-funs #'meq/aiern-cosmoem-toggle
            :keymap 'aiern-normal-state-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t a" meq/toggle-aiern-cosmoem "aiern")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/aiern-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/aiern-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'aiern-normal-state-map)
            (when (featurep 'aiern) (meq/which-key-show-top-level 'aiern-normal-state-map)))
        
        ;;;###autoload
        (defun meq/toggle-aiern (ua) (interactive "p")
            (when (featurep 'aiern) (if (= ua 4)
                (funcall 'meq/toggle-inner 'aiern-mode "aiern" (meq/fbatp aiern-mode) 'aiern-normal-state-map nil t)
                (funcall 'meq/toggle-inner 'aiern-mode "aiern" (meq/fbatp aiern-mode) 'aiern-normal-state-map))))
        
        ;;;###autoload
        (defun meq/toggle-aiern-cosmoem (ua) (interactive "p")
            (when (featurep 'aiern) (if (= ua 4)
                (funcall 'meq/toggle-inner 'aiern-mode "aiern" (meq/fbatp aiern-mode) 'aiern-normal-state-map t t)
                (funcall 'meq/toggle-inner 'aiern-mode "aiern" (meq/fbatp aiern-mode) 'aiern-normal-state-map t))))
        
        ;;;###autoload
        (defun meq/aiern-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'aiern) (funcall 'meq/execute-with-current-bindings-inner 'aiern-mode "aiern" (meq/fbatp aiern-mode) 'aiern-normal-state-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/aiern-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'aiern) (funcall 'meq/execute-with-current-bindings-inner 'aiern-mode "aiern" (meq/fbatp aiern-mode) 'aiern-normal-state-map t called-interactively)))
        
        (with-eval-after-load 'aiern (add-to-list 'meq/var/modal-modes 'aiern-mode) (add-to-list 'meq/var/modal-prefixes "aiern"))
</code></pre>
</div>

<p>
And here are the <code>aiern</code> bindings set in the <code>sorrow</code> modal-mode:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :sorrow ("l" :deino
                '(aiern-exits (:color blue) "e"
                    ;; From: https://github.com/emacs-evil/evil/blob/master/evil-maps.el#L449
                    "A deino for getting the fuck outta' here!"
                    ("`" nil "cancel")
                    ("l" aiern-save-and-quit ":wq")
                    ("p" aiern-quit ":q")
                    ("o" aiern-write ":w")
                    ("O" aiern-write-all ":wa")
</code></pre>
</div>

<p>
Deprecated; kept for documentation purposes:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">                    ("q" (funcall (alloy-simulate-key ":q! &lt;RET&gt;")) ":q!"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">                    ("q" (aiern-quit t) ":q!"))
                :name "aiern exits"))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org0ac2515" class="outline-4">
<h4 id="org0ac2515">all-the-icons</h4>
<div class="outline-text-4" id="text-org0ac2515">
<p>
I use <a href="https://connary.com/cartograph.html">Cartograph</a> by <a href="https://connary.com/index.html">Connary Fagen, Inc.</a>, but I got it cheaper <a href="https://www.fontspring.com/fonts/connary-fagen-type-design/cartograph-cf">here</a>; the second site often has sales on fonts.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up all-the-icons :config
    (ignore-errors
        (set-face-attribute 'default nil :font "Cartograph CF Extra Bold-12")
        (set-face-attribute 'mode-line nil :font "Cartograph CF Extra Bold-12")
        (set-face-attribute 'mode-line-inactive nil :font "Cartograph CF Extra Bold-12")))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org103723a" class="outline-4">
<h4 id="org103723a">buffer</h4>
<div class="outline-text-4" id="text-org103723a">
<p>
This binds <code>ctrl-tab</code> and <code>ctrl-shift-tab</code> to buffer-cycling motions:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(alloy-def :keymaps demon-run "C-tab" 'next-buffer "C-&lt;iso-lefttab&gt;" 'previous-buffer)
</code></pre>
</div>

<p>
And this is mostly adapted from <a href="https://sam217pa.github.io/2016/09/23/keybindings-strategies-in-emacs/">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(sorrow-key "b" :deino '(deino-buffer (:color red :columns 3) "b"
  "
                Buffers :
  "
  ("`" nil "cancel")
  ("&lt;right&gt;" next-buffer "next")
  ("n" next-buffer "next")
  ("b" ivy-switch-buffer "switch" :color blue)
  ("B" ibuffer "ibuffer" :color blue)
  ("&lt;left&gt;" previous-buffer "prev")
  ("p" previous-buffer "prev")
  ("C-b" buffer-menu "buffer menu" :color blue)
  ("N" evil-buffer-new "new" :color blue)
  ("d" kill-this-buffer "delete")
  ;; don't come back to previous buffer after delete
  ("D" (progn (kill-this-buffer) (next-buffer)) "Delete")
  ("S" save-buffer "save")
  ("s" deino-window/body "window" :color blue)))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org240c689" class="outline-4">
<h4 id="org240c689">ivy</h4>
<div class="outline-text-4" id="text-org240c689">
<p>
From the <a href="https://github.com/abo-abo/swiper">swiper</a> package by <a href="https://github.com/abo-abo">Oleh Krehel</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up ivy :sorrow ("x" :deino '(deino-execute (:color blue) "x" "A deino for launching stuff!"
        ("`" nil "cancel")
        ("e" execute-extended-command "M-x")) :name "execute order 65")
    :use-package-preconfig (smex)
    :gsetq (ivy-use-virtual-buffers t))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org74b7645" class="outline-4">
<h4 id="org74b7645">counsel</h4>
<div class="outline-text-4" id="text-org74b7645">
<p>
From the <a href="https://github.com/abo-abo/swiper">swiper</a> package by <a href="https://github.com/abo-abo">Oleh Krehel</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up counsel
    :use-package-postconfig (prescient) (ivy-prescient)
    :hook (after-init . (lambda nil (interactive)
                            (ivy-mode 1)
                            (counsel-mode 1)
                            (ivy-prescient-mode 1)
                            (prescient-persist-mode 1)))
    :deino+ (deino-execute nil ("c" counsel-M-x "counsel"))

    ;; Adapted From: https://www.reddit.com/r/emacs/comments/7o1sjq/exwm_rofidmenu_replacement_for_starting/dt0lvkm?utm_source=share&amp;utm_medium=web2x&amp;context=3
    :config (push (concat (getenv "HOME") "/.local/share/applications/") counsel-linux-apps-directories)
    :config/defun* (meq/counsel-linux-app-format-function (name comment exec)
                        "Default Linux application name formatter.
                    NAME is the name of the application, COMMENT its comment and EXEC
                    the command to launch it."
                        (format "% -45s %s"
                            (propertize name 'face 'font-lock-builtin-face)
                            (or comment "")))
   :gsetq (counsel-linux-app-format-function #'meq/counsel-linux-app-format-function))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org5ba9d82" class="outline-4">
<h4 id="org5ba9d82">damascus</h4>
<div class="outline-text-4" id="text-org5ba9d82">
<p>
Set up the base of this config, including the <a href="https://github.com/emacsmirror/rainbow-mode">rainbow-mode</a> package:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/upnsd damascus :use-package-postconfig (rainbow-mode :config (rainbow-mode 1)) (help-fns+ :load-siluam-file-postconfig ("help+"))
</code></pre>
</div>

<p>
Define some universal deinos:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :deino (deino-universal/shortcuts (:color blue) "d u s"
            "A deino for universal shortcuts!"
            ("`" nil "cancel")
            (";" aiern-ex "aiern-ex")
            (":" evil-ex "evil-ex")
            ("u" uru "uru")
            ("m" minoru "minoru")
            ("w" deino-wb/body "window-buffer deino")
            ;; ("s" meq/shell "shell")
            ("'" aiern-write "save")
            ("RET" aiern-save-and-quit "save and quit"))
        (deino-universal/modal-modes (:color blue) "d u m"
            "A deino for modal modes!"
            ("a" meq/aiern-execute-with-current-bindings "aiern execute")
            ("s" meq/sorrow-execute-with-current-bindings "sorrow execute")
            ("g" meq/god-execute-with-current-bindings "god execute")
            ("r" meq/ryo-execute-with-current-bindings "ruo execute")
            ("`" nil "cancel"))
        (deino-universal/major-minor-modes (:color blue) "d u M"
            "A deino for major and minor modes!"
            ("`" nil "cancel"))
        (deino-universal/everything-else (:color blue) "d u e"
            "A deino for everything else!"
            ("`" nil "cancel")
            ("u" deino-undo/body "deino-undo")
            ("RET" meq/end-of-line-and-indented-new-line "indented new line")
            ("r" deino-restart/body "deino-restart"))
</code></pre>
</div>

<p>
Bind some universal deinos:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :alloy (:keymaps demon-run
            (alloy-chord ";'") 'deino-universal/shortcuts/body
            (alloy-chord "l;") 'deino-universal/modal-modes/body
            (alloy-chord "kl") 'deino-universal/major-minor-modes/body
            (alloy-chord "jk") 'deino-universal/everything-else/body
            (alloy-chord "hj") 'aiern-exits/body
</code></pre>
</div>

<p>
Bind some keys primarily accessible for me on Android:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">            "¡" 'ignore "¹" 'ignore "½" 'ignore "⅓" 'ignore "¼" 'ignore "⅛" 'ignore "²" 'ignore "⅜" 'ignore
            "¾" 'ignore "³" 'ignore "⁴" 'ignore "⅚" 'ignore "⁵" 'ignore "⅝" 'ignore "⁶" 'ignore "⅞" 'ignore
            "⁷" 'ignore "⁸" 'ignore "⁹" 'ignore "∅" 'ignore "ⁿ" 'ignore "⁰" 'ignore "·" 'ignore "—" 'ignore
            "∞" 'ignore "≠" 'ignore "≈" 'ignore "ê" 'ignore "é" 'ignore
            "è" 'universal-argument "ë" 'ignore "ē" 'ignore
            "ū" 'ignore "ü" 'ignore "ú" 'ignore "û" 'ignore "ù" 'ignore "ì" 'ignore "ï" 'ignore "í" 'ignore
            "î" 'ignore "ī" 'ignore "ō" 'ignore "œ" 'ignore "ø" 'ignore "õ" 'ignore "ö" 'ignore "ó" 'ignore
            "ô" 'ignore "ò" 'ignore "à" 'ignore "á" 'ignore "â" 'ignore "ä" 'ignore "æ" 'ignore "ã" 'ignore
            "å" 'ignore "ā" 'ignore "ß" 'ignore "ç" 'ignore "ñ" 'ignore "¿" 'ignore
</code></pre>
</div>

<p>
And bind some keys of general use:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        :keymaps '(override aiern-insert-state-map evil-insert-state-map)
            (naked "C-backspace") 'meq/delete-white-or-word
            (naked "RET") 'newline-and-indent)
</code></pre>
</div>

<p>
This hook and function combo would allow me to save files without query, taken from <a href="https://emacs.stackexchange.com/a/51829">this answer</a> by <a href="https://emacs.stackexchange.com/users/2370/tobias">Tobias</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :config/defun*
        (meq/set-buffer-save-without-query nil
            "Set `buffer-save-without-query' to t."
            (unless (variable-binding-locus 'buffer-save-without-query)
                (setq buffer-save-without-query t)))
    :hook (find-file . meq/set-buffer-save-without-query)
</code></pre>
</div>

<p>
Load the latest help package, and set a few self-describing variables:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :gsetq
        (indent-tabs-mode nil
            inhibit-startup-screen t
            confirm-kill-emacs nil
            delete-selection-mode 1
            echo-keystrokes .1
            column-number-mode t
            size-indicator-mode t
            user-full-name "Jeet Ray"
            user-mail-address "titaniumfiles@outlook.com"
            scroll-step 1
            scroll-conservatively most-positive-fixnum
            vc-follow-symlinks t)
</code></pre>
</div>

<p>
Do not show byte-compiler warnings, from <a href="https://emacs.stackexchange.com/a/19507">this answer</a> by <a href="https://emacs.stackexchange.com/users/50/malabarba">Malabarba</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (byte-compile-warnings nil)
</code></pre>
</div>

<p>
This would set the <code>initial-major-mode</code>, from <a href="https://emacsredux.com/blog/2014/07/25/configure-the-scratch-buffers-mode/">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (initial-major-mode 'org-mode)
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :init

        ;; TODO: Use the previous implementation of this to create a version which will use command-line arguments
        ;;       to open specific files, such as this README, protean.aiern.org, meta.aiern.org, settings/README.org, etc. ,
        ;;       in addition to any files called from the command-line itself.
        (let* ((testing (meq/ued "testing.aiern.org"))
                (resting (meq/ued "resting.aiern.org")))
            ;; (setq initial-buffer-choice testing)

            ;; Adapted From:
            ;; Answer: https://emacs.stackexchange.com/a/66329
            ;; User: https://emacs.stackexchange.com/users/26541/hettomei
            (eval `(add-hook 'after-init-hook #'(lambda nil (interactive) (unless (buffer-file-name) (find-file ,testing)))))
            
            (eval `(add-hook 'kill-emacs-hook #'(lambda nil (interactive)
                ;; Adapted From: http://ergoemacs.org/emacs/elisp_file_name_dir_name.html
                (when (get-file-buffer ,testing) (delete-file ,testing) (copy-file ,resting ,testing))))))

        (let* ((loaddefs (meq/ued-lib "org" "lisp" "org-loaddefs.el"))) (when (get-file-buffer loaddefs) (kill-buffer (get-file-buffer loaddefs))))
        (when (get-buffer "*Compile-Log*") (kill-buffer "*Compile-Log*"))
        (when (get-buffer "*Shell Command Output*") (kill-buffer "*Shell Command Output*"))

        ;; This determines the style of line numbers in effect. If set to `nil', line
        ;; numbers are disabled. For relative line numbers, set this to `relative'.
        ;; Adapted From: https://www.reddit.com/r/emacs/comments/8fz6x2/relative_number_with_line_folding/dy7lmh7?utm_source=share&amp;utm_medium=web2x&amp;context=3
        ;; (display-line-numbers-mode t)
        (setq display-line-numbers-type 'relative)
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;; Adapted From:
        ;; Answer: https://stackoverflow.com/a/50716229/10827766
        ;; User: https://stackoverflow.com/users/1482346/muro
        (global-display-line-numbers-mode t)
</code></pre>
</div>

<p>
The foloowing few pieces are adapted from <a href="https://unix.stackexchange.com/users/72170/ole">Ole's</a> answer <a href="https://unix.stackexchange.com/a/152151">here</a>, with his comments quoted as well:
</p>

<blockquote>
<p>
Makes <b>scratch</b> empty.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (setq initial-scratch-message "")
</code></pre>
</div>

<blockquote>
<p>
Removes <b>scratch</b> from buffer after the mode has been set.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (defun meq/remove-scratch-buffer nil (interactive)
            (when (get-buffer "*scratch*") (kill-buffer "*scratch*")))
        (add-hook 'after-change-major-mode-hook 'meq/remove-scratch-buffer)
</code></pre>
</div>

<p>
Not using this bit:
</p>

<blockquote>
<p>
Removes <b>messages</b> from the buffer.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (setq-default message-log-max nil)
        (when (get-buffer "*Messages*") (kill-buffer "*Messages*"))
</code></pre>
</div>

<blockquote>
<p>
Removes <b>Completions</b> from buffer after you've opened a file.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (add-hook 'minibuffer-exit-hook
            #'(lambda nil
                (let ((buffer "*Completions*"))
                (and (get-buffer buffer)
                        (kill-buffer buffer)))))
</code></pre>
</div>

<blockquote>
<p>
Don't show <b>Buffer list</b> when opening multiple files at the same time.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (setq inhibit-startup-buffer-menu t)
</code></pre>
</div>

<blockquote>
<p>
Show only one active window when opening multiple files at the same time.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (add-hook 'window-setup-hook 'delete-other-windows)
</code></pre>
</div>

<p>
Not using this piece either:
</p>

<blockquote>
<p>
The following avoids being ask to allow the file local setting of `buffer-save-without-query'.
IMHO it is not a big risk: The malicious code that must not be saved should never be allowed to enter Emacs in the first place.
</p>
</blockquote>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (put 'buffer-save-without-query 'safe-local-variable #'booleanp)
</code></pre>
</div>

<p>
And finally, make emacs fullscreen, from <a href="https://emacs.stackexchange.com/users/253/dan">Dan's</a> answer <a href="https://emacs.stackexchange.com/a/3017/31428">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (add-to-list 'default-frame-alist '(fullscreen . fullboth)))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org907d27b" class="outline-4">
<h4 id="org907d27b">dired-sidebar</h4>
<div class="outline-text-4" id="text-org907d27b">
<p>
Set up <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Dired.html">dired</a> and its <a href="https://github.com/jojojames/dired-sidebar">sidebar</a>, by <a href="https://github.com/jojojames">James</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up dired-sidebar :demon ((alloy-chord "\\\\") 'meq/backslash-toggle)
</code></pre>
</div>

<p>
For some reason, on terminal interfaces, the arrow keys in <code>dired</code> tried to change ownership of file;
this was resolved using the following bit, adapted from <a href="https://www.reddit.com/r/emacs/comments/pce8f4/dired_ellipses_in_square_brackets_before_file/hakuehb/?utm_medium=android_app&amp;utm_source=share&amp;context=3">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :upnsd-preconfig (dired+ :gsetq (diredp-bind-problematic-terminal-keys (display-graphic-p)))
</code></pre>
</div>

<p>
Since <code>dired-details</code> is already implemented in <code>dired</code> from Emacs version 24.4, we'll enable it only for prior versions:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (dired-details :if (version&lt; emacs-version "24.4"))
        (dired-details+ :if (version&lt; emacs-version "24.4"))
</code></pre>
</div>

<p>
I don't quite like the <code>dired-sidebar</code> open all the time, so I close it on opening a file from it;
also, no hidden details hint, courtesy of <a href="https://www.emacswiki.org/emacs/DiredDetails#h5o-1">the Emacs wiki</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :gsetq (dired-sidebar-close-sidebar-on-file-open t)
        (dired-details-hidden-string "")
</code></pre>
</div>

<p>
When in the <code>dired</code> major mode or derived major modes, <a href="https://github.com/shadowrylander/uru">uru</a> will allow me to quickly create, and optionally open,
Zettelkasten files for my novel and documentation:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :uru (dired-mode t deino-dired-mode (:color blue) "d d"
            ("`" nil "cancel")
            ("f" (meq/dired-create-and-open-fell-markdown) "create &amp; edit fell file")
            ("d" (meq/dired-create-and-open-doc-markdown) "create &amp; edit doc file")
            ("F" (meq/dired-create-fell-markdown) "create fell file" :color red)
            ("D" (meq/dired-create-doc-markdown) "create doc file" :color red)))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgb000587" class="outline-4">
<h4 id="orgb000587">god-mode</h4>
<div class="outline-text-4" id="text-orgb000587">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package god-mode
    :config (which-key-enable-god-mode-support)
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;;;###autoload
        (defdeino+ toggles (:color blue) ("g" meq/toggle-god "god"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("g" meq/god-show-top-level "god"))
        
        ;;;###autoload
        (defminorua 4 god-local-mode deino-ala-god nil "; m g" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/god-cosmoem-show
            :hide-funs #'meq/god-cosmoem-hide
            :toggle-funs #'meq/god-cosmoem-toggle
            :keymap 'global-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t g" meq/toggle-god-cosmoem "god")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/god-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/god-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'global-map)
            (when (featurep 'god-mode) (meq/which-key-show-top-level 'global-map)))
        
        ;;;###autoload
        (defun meq/toggle-god (ua) (interactive "p")
            (when (featurep 'god-mode) (if (= ua 4)
                (funcall 'meq/toggle-inner 'god-local-mode "god" (meq/fbatp god-local-mode) 'global-map nil t)
                (funcall 'meq/toggle-inner 'god-local-mode "god" (meq/fbatp god-local-mode) 'global-map))))
        
        ;;;###autoload
        (defun meq/toggle-god-cosmoem (ua) (interactive "p")
            (when (featurep 'god-mode) (if (= ua 4)
                (funcall 'meq/toggle-inner 'god-local-mode "god" (meq/fbatp god-local-mode) 'global-map t t)
                (funcall 'meq/toggle-inner 'god-local-mode "god" (meq/fbatp god-local-mode) 'global-map t))))
        
        ;;;###autoload
        (defun meq/god-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'god-mode) (funcall 'meq/execute-with-current-bindings-inner 'god-local-mode "god" (meq/fbatp god-local-mode) 'global-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/god-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'god-mode) (funcall 'meq/execute-with-current-bindings-inner 'god-local-mode "god" (meq/fbatp god-local-mode) 'global-map t called-interactively)))
        
        (with-eval-after-load 'god-mode (add-to-list 'meq/var/modal-modes 'god-local-mode) (add-to-list 'meq/var/modal-prefixes "god"))
</code></pre>
</div>

<p>
This sets up <a href="https://github.com/emacsorphanage/god-mode">god-mode</a>, <a href="https://github.com/gridaphobe/evil-god-state">evil-god-state</a> by <a href="https://github.com/gridaphobe">Eric Seidel</a>, and my fork of it <a href="https://github.com/shadowrylander/aiern-god-state">aiern-god-state</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :upnsd-postconfig (aiern-god-state) (evil-god-state))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgbd8b011" class="outline-4">
<h4 id="orgbd8b011">doom-aiern-modeline</h4>
<div class="outline-text-4" id="text-orgbd8b011">
<p>
This sets up <a href="https://github.com/shadowrylander/doom-aiern-modeline">my fork</a> of <a href="https://github.com/seagle0128/doom-modeline">doom-modeline</a> by <a href="https://github.com/seagle0128">Vincent Zhang</a> upon initialization:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package doom-aiern-modeline
    :hook (after-init . doom-aiern-modeline-mode)
    :use-package-preconfig (shrink-path)
</code></pre>
</div>

<p>
Most of the following is adapted from <a href="https://github.com/seagle0128/doom-aiern-modeline#customize">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :gsetq
        ;; How tall the mode-line should be. It's only respected in GUI.
        ;; If the actual char height is larger, it respects the actual height.
        (doom-aiern-modeline-height 25)

        ;; How wide the mode-line bar should be. It's only respected in GUI.
        (doom-aiern-modeline-bar-width 3)

        ;; The limit of the window width.
        ;; If `window-width' is smaller than the limit, some information won't be displayed.
        (doom-aiern-modeline-window-width-limit fill-column)

        ;; How to detect the project root.
        ;; The default priority of detection is `ffip' &gt; `projectile' &gt; `project'.
        ;; nil means to use `default-directory'.
        ;; The project management packages have some issues on detecting project root.
        ;; e.g. `projectile' doesn't handle symlink folders well, while `project' is unable
        ;; to hanle sub-projects.
        ;; You can specify one if you encounter the issue.
        (doom-aiern-modeline-project-detection 'project)

        ;; Determines the style used by `doom-aiern-modeline-buffer-file-name'.
        ;;
        ;; Given ~/Projects/FOSS/emacs/lisp/comint.el
        ;;   auto =&gt; emacs/lisp/comint.el (in a project) or comint.el
        ;;   truncate-upto-project =&gt; ~/P/F/emacs/lisp/comint.el
        ;;   truncate-from-project =&gt; ~/Projects/FOSS/emacs/l/comint.el
        ;;   truncate-with-project =&gt; emacs/l/comint.el
        ;;   truncate-except-project =&gt; ~/P/F/emacs/l/comint.el
        ;;   truncate-upto-root =&gt; ~/P/F/e/lisp/comint.el
        ;;   truncate-all =&gt; ~/P/F/e/l/comint.el
        ;;   truncate-nil =&gt; ~/Projects/FOSS/emacs/lisp/comint.el
        ;;   relative-from-project =&gt; emacs/lisp/comint.el
        ;;   relative-to-project =&gt; lisp/comint.el
        ;;   file-name =&gt; comint.el
        ;;   buffer-name =&gt; comint.el&lt;2&gt; (uniquify buffer name)
        ;;
        ;; If you are experiencing the laggy issue, especially while editing remote files
        ;; with tramp, please try `file-name' style.
        ;; Please refer to https://github.com/bbatsov/projectile/issues/657.
        (doom-aiern-modeline-buffer-file-name-style 'auto)

        ;; Whether display icons in the mode-line.
        ;; While using the server mode in GUI, should set the value explicitly.
        (doom-aiern-modeline-icon (display-graphic-p))

        ;; Whether display the icon for `major-mode'. It respects `doom-aiern-modeline-icon'.
        (doom-aiern-modeline-major-mode-icon t)

        ;; Whether display the colorful icon for `major-mode'.
        ;; It respects `all-the-icons-color-icons'.
        (doom-aiern-modeline-major-mode-color-icon t)

        ;; Whether display the icon for the buffer state. It respects `doom-aiern-modeline-icon'.
        (doom-aiern-modeline-buffer-state-icon t)

        ;; Whether display the modification icon for the buffer.
        ;; It respects `doom-aiern-modeline-icon' and `doom-aiern-modeline-buffer-state-icon'.
        (doom-aiern-modeline-buffer-modification-icon t)

        ;; Whether to use unicode as a fallback (instead of ASCII) when not using icons.
        (doom-aiern-modeline-unicode-fallback nil)

        ;; Whether display the minor modes in the mode-line.
        (doom-aiern-modeline-minor-modes nil)

        ;; If non-nil, a word count will be added to the selection-info modeline segment.
        (doom-aiern-modeline-enable-word-count nil)

        ;; Major modes in which to display word count continuously.
        ;; Also applies to any derived modes. Respects `doom-aiern-modeline-enable-word-count'.
        ;; If it brings the sluggish issue, disable `doom-aiern-modeline-enable-word-count' or
        ;; remove the modes from `doom-aiern-modeline-continuous-word-count-modes'.
        (doom-aiern-modeline-continuous-word-count-modes '(
            markdown-mode
            gfm-mode
            org-mode
            outline-mode))

        ;; Whether display the buffer encoding.
        (doom-aiern-modeline-buffer-encoding t)

        ;; Whether display the indentation information.
        (doom-aiern-modeline-indent-info nil)

        ;; If non-nil, only display one number for checker information if applicable.
        (doom-aiern-modeline-checker-simple-format t)

        ;; The maximum number displayed for notifications.
        (doom-aiern-modeline-number-limit 99)

        ;; The maximum displayed length of the branch name of version control.
        (doom-aiern-modeline-vcs-max-length 12)

        ;; Whether display the workspace name. Non-nil to display in the mode-line.
        (doom-aiern-modeline-workspace-name t)

        ;; Whether display the perspective name. Non-nil to display in the mode-line.
        (doom-aiern-modeline-persp-name t)

        ;; If non nil the default perspective name is displayed in the mode-line.
        (doom-aiern-modeline-display-default-persp-name nil)

        ;; If non nil the perspective name is displayed alongside a folder icon.
        (doom-aiern-modeline-persp-icon t)

        ;; Whether display the `lsp' state. Non-nil to display in the mode-line.
        (doom-aiern-modeline-lsp t)

        ;; Whether display the GitHub notifications. It requires `ghub' package.
        (doom-aiern-modeline-github nil)

        ;; The interval of checking GitHub.
        (doom-aiern-modeline-github-interval (* 30 60))

        ;; Whether display the modal state icon.
        ;; Including `evil', `overwrite', `god', `ryo' and `xah-fly-keys', etc.
        ;; From: https://www.reddit.com/r/emacs/comments/gqc9fm/visual_indication_of_the_mode_of_editing_with_evil/frt8trg?utm_source=share&amp;utm_medium=web2x&amp;context=3
        (doom-aiern-modeline-modal-icon nil)

        ;; Whether display the mu4e notifications. It requires `mu4e-alert' package.
        (doom-aiern-modeline-mu4e nil)

        ;; Whether display the gnus notifications.
        (doom-aiern-modeline-gnus t)

        ;; Wheter gnus should automatically be updated and how often (set to 0 or smaller than 0 to disable)
        (doom-aiern-modeline-gnus-timer 2)

        ;; Wheter groups should be excludede when gnus automatically being updated.
        (doom-aiern-modeline-gnus-excluded-groups '("dummy.group"))

        ;; Whether display the IRC notifications. It requires `circe' or `erc' package.
        (doom-aiern-modeline-irc t)

        ;; Function to stylize the irc buffer names.
        (doom-aiern-modeline-irc-stylize 'identity)

        ;; Whether display the environment version.
        (doom-aiern-modeline-env-version t)
        ;; Or for individual languages
        (doom-aiern-modeline-env-enable-python t)
        (doom-aiern-modeline-env-enable-ruby t)
        (doom-aiern-modeline-env-enable-perl t)
        (doom-aiern-modeline-env-enable-go t)
        (doom-aiern-modeline-env-enable-elixir t)
        (doom-aiern-modeline-env-enable-rust t)

        ;; Change the executables to use for the language version string
        (doom-aiern-modeline-env-python-executable "python") ; or `python-shell-interpreter'
        (doom-aiern-modeline-env-ruby-executable "ruby")
        (doom-aiern-modeline-env-perl-executable "perl")
        (doom-aiern-modeline-env-go-executable "go")
        (doom-aiern-modeline-env-elixir-executable "iex")
        (doom-aiern-modeline-env-rust-executable "rustc")

        ;; What to dispaly as the version while a new one is being loaded
        (doom-aiern-modeline-env-load-string "...")

        ;; Hooks that run before/after the modeline version string is updated
        (doom-aiern-modeline-before-update-env-hook nil)
        (doom-aiern-modeline-after-update-env-hook nil))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org9ae9cd3" class="outline-4">
<h4 id="org9ae9cd3">evil</h4>
<div class="outline-text-4" id="text-org9ae9cd3">
<p>
As mentioned before, both <a href="https://github.com/emacs-evil/evil"><code>evil</code></a> and <a href="https://github.com/shadowrylander/aiern"><code>aiern</code></a> require <a href="https://github.com/justbur/emacs-bind-map">emacs-bind-map</a>, by <a href="https://github.com/justbur">Justin Burkett</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up evil :use-package-preconfig (bind-map)
</code></pre>
</div>

<p>
More evil, courtesy of <a href="https://github.com/mohsenil85/evil-evilified-state">this</a> and <a href="https://github.com/syl20bnr/spacemacs">this</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :use-package-postconfig (evil-evilified-state)
</code></pre>
</div>

<p>
Disable the <code>evil-escape-key-sequence</code>, and set the <code>evil-undo-system</code> to <a href="https://github.com/emacsmirror/undo-fu"><code>undo-fu</code></a>
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :gsetq (evil-escape-key-sequence nil evil-undo-system 'undo-fu evil-move-beyond-eol t)
</code></pre>
</div>

<p>
This allows me to disable <code>evil-insert-state</code>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :leaf (evil :advice
        (:override evil-insert-state (lambda (&amp;rest args) (interactive)
            (meq/disable-all-modal-modes))))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    ;; :demon
        ;; TODO
        ;; ((alloy-chord "") 'meq/toggle-evil-ex-cosmoem)
    :config
        ;; From: https://www.reddit.com/r/emacs/comments/lp45zd/help_requested_in_configuring_ryomodal/gp3rfx9?utm_source=share&amp;utm_medium=web2x&amp;context=3
        ;; Kept for documentation porpoises
        ;; (eval
        ;;       `(ryo-modal-keys
        ;;             ("l l" ,(alloy-simulate-key ":wq &lt;RET&gt;") :first '(evil-normal-state) :name "wq")
        ;;             ("l p" ,(alloy-simulate-key ":q &lt;RET&gt;") :first '(evil-normal-state) :name "q")
        ;;             ("l o" ,(alloy-simulate-key ":w &lt;RET&gt;") :first '(evil-normal-state) :name "w")
        ;;             ("l q" ,(alloy-simulate-key ":q! &lt;RET&gt;") :first '(evil-normal-state) :name "q!")))

        ;; Use to get command name:
        ;; Eg: (cdr (assoc "q" evil-ex-commands))
        ;; Then "C-x C-e" (eval-last-sexp)

        ;; TODO: How do I create a keymap `evil-ex-keymap' out of the `evil-ex-commands' alist?

        ;; (cosmoem-def :show-funs #'meq/evil-ex-cosmoem-show
        ;;     :hide-funs #'meq/evil-ex-cosmoem-hide
        ;;     :toggle-funs #'meq/evil-ex-cosmoem-toggle
        ;;     :keymap 'evil-ex-keymap
        ;;     ;; :transient t
        ;; )

        ;; (defun meq/evil-ex-cosmoem-toggle nil (interactive))
        ;; (defun meq/evil-ex-show-top-level nil (interactive)
        ;;     (meq/which-key-show-top-level 'evil-ex-keymap))

        ;; (defun meq/toggle-evil-ex (ua) (interactive "p")
        ;;     (if (= ua 4)
        ;;         (funcall 'meq/toggle-inner 'evil-mode "evil-ex" (meq/fbatp evil-mode) 'evil-ex-keymap nil t)
        ;;         (funcall 'meq/toggle-inner 'evil-mode "evil-ex" (meq/fbatp evil-mode) 'evil-ex-keymap)))
        ;; (defun meq/toggle-evil-ex-cosmoem (ua) (interactive "p")
        ;;     (if (= ua 4)
        ;;         (funcall 'meq/toggle-inner 'evil-mode "evil-ex" (meq/fbatp evil-mode) 'evil-ex-keymap t t)
        ;;         (funcall 'meq/toggle-inner 'evil-mode "evil-ex" (meq/fbatp evil-mode) 'evil-ex-keymap t)))
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;;;###autoload
        (defdeino+ toggles (:color blue) ("e" meq/toggle-evil "evil"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("e" meq/evil-show-top-level "evil"))
        
        ;;;###autoload
        (defminorua 4 evil-mode deino-ala-evil nil "; m e" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/evil-cosmoem-show
            :hide-funs #'meq/evil-cosmoem-hide
            :toggle-funs #'meq/evil-cosmoem-toggle
            :keymap 'evil-normal-state-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t e" meq/toggle-evil-cosmoem "evil")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/evil-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/evil-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'evil-normal-state-map)
            (when (featurep 'evil) (meq/which-key-show-top-level 'evil-normal-state-map)))
        
        ;;;###autoload
        (defun meq/toggle-evil (ua) (interactive "p")
            (when (featurep 'evil) (if (= ua 4)
                (funcall 'meq/toggle-inner 'evil-mode "evil" (meq/fbatp evil-mode) 'evil-normal-state-map nil t)
                (funcall 'meq/toggle-inner 'evil-mode "evil" (meq/fbatp evil-mode) 'evil-normal-state-map))))
        
        ;;;###autoload
        (defun meq/toggle-evil-cosmoem (ua) (interactive "p")
            (when (featurep 'evil) (if (= ua 4)
                (funcall 'meq/toggle-inner 'evil-mode "evil" (meq/fbatp evil-mode) 'evil-normal-state-map t t)
                (funcall 'meq/toggle-inner 'evil-mode "evil" (meq/fbatp evil-mode) 'evil-normal-state-map t))))
        
        ;;;###autoload
        (defun meq/evil-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'evil) (funcall 'meq/execute-with-current-bindings-inner 'evil-mode "evil" (meq/fbatp evil-mode) 'evil-normal-state-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/evil-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'evil) (funcall 'meq/execute-with-current-bindings-inner 'evil-mode "evil" (meq/fbatp evil-mode) 'evil-normal-state-map t called-interactively)))
        
        (with-eval-after-load 'evil (add-to-list 'meq/var/modal-modes 'evil-mode) (add-to-list 'meq/var/modal-prefixes "evil"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    )
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgfc74d6d" class="outline-4">
<h4 id="orgfc74d6d">olivetti</h4>
<div class="outline-text-4" id="text-orgfc74d6d">
<p>
Zen-mode with <a href="https://github.com/rnkn/olivetti">olivetti</a>, by <a href="https://github.com/rnkn">Paul W. Rankin</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up olivetti :gsetq (olivetti-body-width 0.60))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org1ae59d3" class="outline-4">
<h4 id="org1ae59d3">rainbow-identifiers</h4>
<div class="outline-text-4" id="text-org1ae59d3">
<p>
Colorful words with <a href="https://github.com/Fanael/rainbow-identifiers">rainbow-identifiers</a>, by <a href="https://github.com/Fanael">Fanael Linithien</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up rainbow-identifiers
    ;; Adapted From:
    ;; Answer: https://stackoverflow.com/a/31253253/10827766
    ;; User: https://stackoverflow.com/users/2698552/chillaranand
    ;; :hook ((buffer-list-update window-configuration-change) . (lambda nil (interactive)
    ;;                                                             (rainbow-identifiers-mode 1)))
    ;; :upnsd-preconfig (xxh)
   )
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgc41f53a" class="outline-4">
<h4 id="orgc41f53a">vlf</h4>
<div class="outline-text-4" id="text-orgc41f53a">
<p>
View Large Files with <a href="https://github.com/m00natic/vlfi">vlfi</a>, by <a href="https://github.com/m00natic">Andrey Kotlarski</a>
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up vlf :gsetq (vlf-application 'always))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org9e1a3dd" class="outline-4">
<h4 id="org9e1a3dd">doom-themes</h4>
<div class="outline-text-4" id="text-org9e1a3dd">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up doom-themes
    :deino (deino-themes-light (:color blue) nil "A deino for light themes!" ("`" nil "cancel"))
        (deino-themes-dark (:color blue) nil "A deino for dark themes!" ("`" nil "cancel"))
    :sorrow ("t" :deino '(deino-themes nil "t" "A deino for themes!"
                ("s" meq/switch-theme-mode "switch to light / dark")
                ("l" deino-themes-light/body "light themes")
                ("d" deino-themes-dark/body "dark themes")
                ("`" nil "cancel")))
    :gsetq
        (doom-themes-enable-bold t)
        (doom-themes-enable-italic t)
        (meq/var/default-theme-override nil)
        (meq/var/default-default-theme 'dracula-purple-dark)
    ;; :use-package-postconfig
    ;;     (doom-themes-ext-neotree :config (doom-themes-neotree-config))
    ;;     (doom-themes-ext-org :config (doom-themes-org-config))
    :config
        (unless (meq/which-theme) (cond
            ((member "--purple" command-line-args)
                (delete "--purple" command-line-args)
                (meq/load-theme 'dracula-purple-dark))
            ((member "--orange" command-line-args)
                (delete "--orange" command-line-args)
                (meq/load-theme 'dracula-orange-dark))
            ((member "--red" command-line-args)
                (delete "--red" command-line-args)
                (meq/load-theme 'exo-ui-red-dark))
            ((member "--flamingo" command-line-args)
                (delete "--flamingo" command-line-args)
                (meq/load-theme 'herschel-flamingo-pink-dark))
            ((member "--blue" command-line-args)
                (delete "--blue" command-line-args)
                (meq/load-theme 'st-giles-blue-dark))
            (meq/var/phone (meq/load-theme 'orange-purple-light))
            (meq/var/default-theme-override (meq/load-theme meq/var/default-theme-override))
            (meq/var/current-theme (meq/load-theme meq/var/current-theme))
            ((meq/exwm-p) (meq/load-theme meq/var/default-default-theme))
            (t (meq/load-theme meq/var/default-default-theme))))

        (mapc #'(lambda (theme) (interactive)
            (let* ((name (symbol-name (car theme)))
                    (prefix (symbol-name (cdr theme)))
                    (light (concat name "-light"))
                    (dark (concat name "-dark")))
                (eval `(defdeino+ deino-themes-light nil
                    (,prefix (funcall #'meq/load-theme ',(intern light)) ,light)))
                (eval `(defdeino+ deino-themes-dark nil
                    (,prefix (funcall #'meq/load-theme ',(intern dark)) ,dark)))))
          '((dracula-purple . p)
            (dracula-orange . o)
            (exo-ui-red . r)
            (herschel-flamingo-pink . f)
            (st-giles-blue . b)
            (lio-fotia . l)
            (orange-purple . C-o)
            (flamingo-pink-purple . C-p)
            (ghostfreak-green . g))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org3a43ddd" class="outline-4">
<h4 id="org3a43ddd">windmove</h4>
<div class="outline-text-4" id="text-org3a43ddd">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up windmove
    :config (winner-mode)
    :deino (deino-wb nil nil ("b" deino-buffer/body "buffer") ("w" deino-window/body "window"))
</code></pre>
</div>

<p>
The <code>sorrow</code> config below is adapted from
<a href="https://github.com/abo-abo/hydra/wiki/Window-Management#deluxe-window-moving">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :sorrow ("w" :deino '(deino-window (:columns 5) "w"
        ("`" nil "cancel")
        ("s" deino-buffer/body "buffer" :color blue)
        ("B" balance-windows "balance-windows")
        ("t" toggle-window-spilt "toggle-window-spilt")
        ("H" shrink-window-horizontally "shrink-window-horizontally")
        ("K" shrink-window "shrink-window")
        ("J" enlarge-window "enlarge-window")
        ("L" enlarge-window-horizontally "enlarge-window-horizontally")
        ("R" reverse-windows "reverse-windows")
        ("h" windmove-left "←")
        ("j" windmove-down "↓")
        ("k" windmove-up "↑")
        ("l" windmove-right "→")
        ("q" deino-move-splitter-left "X←")
        ("w" deino-move-splitter-down "X↓")
        ("e" deino-move-splitter-up "X↑")
        ("r" deino-move-splitter-right "X→")
        ("F" follow-mode "Follow")
        ("v" (lambda nil (interactive) (split-window-right) (windmove-right)) "vertical")
        ("x" (lambda nil (interactive) (split-window-below) (windmove-down)) "horizontal")
        ("d" delete-window "delete")
        ("O" delete-other-windows "only this")
        ("z" (progn (winner-undo) (setq this-command 'winner-undo)) "undo")
        ("Z" winner-redo "reset")
        ("o" other-window "other-window"))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org49b088c" class="outline-4">
<h4 id="org49b088c">ace-window</h4>
<div class="outline-text-4" id="text-org49b088c">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up ace-window
    :deino+ (deino-window (:color red)
        ("a" (lambda nil (interactive) (ace-window 1) (add-hook 'ace-window-end-once-hook
                                                                'deino-window/body)) "ace 1")
        ("S" (lambda nil (interactive) (ace-window 4) (add-hook 'ace-window-end-once-hook
                                                                'deino-window/body)) "swap")
        ("D" (lambda nil (interactive) (ace-window 16) (add-hook 'ace-window-end-once-hook
                                                                'deino-window/body)) "Delete Other")
        ("E" ace-swap-window "ace-swap-window")
        ("W" ace-delete-window "ace-delete-window" :exit t)))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org657d5d7" class="outline-4">
<h4 id="org657d5d7">cosmog</h4>
<div class="outline-text-4" id="text-org657d5d7">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/upnsd cosmog :prime ("c" deino-cosmog/body "cosmog"))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org909e351" class="outline-4">
<h4 id="org909e351">helm</h4>
<div class="outline-text-4" id="text-org909e351">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up helm
    ;; :commands (helm-M-x helm-mini helm-mode)
    :deino+ (deino-execute nil
                ("h" helm-smex-major-mode-commands "helm smex major mode")
                ("s" helm-smex "helm smex"))
            (deino-window nil ("B" helm-mini "helm-mini")
                ("f" helm-find-files "helm-find-files"))
    :use-package-postconfig ;; Adapted From: https://github.com/clemera/helm-ido-like-guide
        (helm-smex)
        (helm-flx)
        (helm-swoop)
        (helm-ido-like))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org19af9ee" class="outline-4">
<h4 id="org19af9ee">magit</h4>
<div class="outline-text-4" id="text-org19af9ee">
<p>
Adapted From: <a href="https://github.com/asok/.emacs.d/blob/master/inits/init-hydra.el#L62">https://github.com/asok/.emacs.d/blob/master/inits/init-hydra.el#L62</a>
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up magit :deino (deino-magit (:color blue :columns 8) "g"
  "It's just like magit!"
  ("s" magit-status "status")
  ("c" magit-checkout "checkout")
  ("b" magit-branch-manager "branch manager")
  ("m" magit-merge "merge")
  ("l" magit-log "log")
  ("c" magit-git-command "command")
  ("p" magit-process "process")
  ("`" nil "cancel")))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org03dac21" class="outline-4">
<h4 id="org03dac21">modalka</h4>
<div class="outline-text-4" id="text-org03dac21">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up modalka :config
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;;;###autoload
        (defdeino+ toggles (:color blue) ("m" meq/toggle-modalka "modalka"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("m" meq/modalka-show-top-level "modalka"))
        
        ;;;###autoload
        (defminorua 4 modalka-mode deino-ala-modalka nil "; m m" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/modalka-cosmoem-show
            :hide-funs #'meq/modalka-cosmoem-hide
            :toggle-funs #'meq/modalka-cosmoem-toggle
            :keymap 'modalka-mode-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t m" meq/toggle-modalka-cosmoem "modalka")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/modalka-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/modalka-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'modalka-mode-map)
            (when (featurep 'modalka) (meq/which-key-show-top-level 'modalka-mode-map)))
        
        ;;;###autoload
        (defun meq/toggle-modalka (ua) (interactive "p")
            (when (featurep 'modalka) (if (= ua 4)
                (funcall 'meq/toggle-inner 'modalka-mode "modalka" (meq/fbatp modalka-mode) 'modalka-mode-map nil t)
                (funcall 'meq/toggle-inner 'modalka-mode "modalka" (meq/fbatp modalka-mode) 'modalka-mode-map))))
        
        ;;;###autoload
        (defun meq/toggle-modalka-cosmoem (ua) (interactive "p")
            (when (featurep 'modalka) (if (= ua 4)
                (funcall 'meq/toggle-inner 'modalka-mode "modalka" (meq/fbatp modalka-mode) 'modalka-mode-map t t)
                (funcall 'meq/toggle-inner 'modalka-mode "modalka" (meq/fbatp modalka-mode) 'modalka-mode-map t))))
        
        ;;;###autoload
        (defun meq/modalka-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'modalka) (funcall 'meq/execute-with-current-bindings-inner 'modalka-mode "modalka" (meq/fbatp modalka-mode) 'modalka-mode-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/modalka-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'modalka) (funcall 'meq/execute-with-current-bindings-inner 'modalka-mode "modalka" (meq/fbatp modalka-mode) 'modalka-mode-map t called-interactively)))
        
        (with-eval-after-load 'modalka (add-to-list 'meq/var/modal-modes 'modalka-mode) (add-to-list 'meq/var/modal-prefixes "modalka"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    )
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgc6c1c84" class="outline-4">
<h4 id="orgc6c1c84">objed</h4>
<div class="outline-text-4" id="text-orgc6c1c84">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up objed :config
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;;;###autoload
        (defdeino+ toggles (:color blue) ("o" meq/toggle-objed "objed"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("o" meq/objed-show-top-level "objed"))
        
        ;;;###autoload
        (defminorua 4 objed-mode deino-ala-objed nil "; m o" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/objed-cosmoem-show
            :hide-funs #'meq/objed-cosmoem-hide
            :toggle-funs #'meq/objed-cosmoem-toggle
            :keymap 'objed-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t o" meq/toggle-objed-cosmoem "objed")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/objed-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/objed-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'objed-map)
            (when (featurep 'objed) (meq/which-key-show-top-level 'objed-map)))
        
        ;;;###autoload
        (defun meq/toggle-objed (ua) (interactive "p")
            (when (featurep 'objed) (if (= ua 4)
                (funcall 'meq/toggle-inner 'objed-mode "objed" (meq/fbatp objed-mode) 'objed-map nil t)
                (funcall 'meq/toggle-inner 'objed-mode "objed" (meq/fbatp objed-mode) 'objed-map))))
        
        ;;;###autoload
        (defun meq/toggle-objed-cosmoem (ua) (interactive "p")
            (when (featurep 'objed) (if (= ua 4)
                (funcall 'meq/toggle-inner 'objed-mode "objed" (meq/fbatp objed-mode) 'objed-map t t)
                (funcall 'meq/toggle-inner 'objed-mode "objed" (meq/fbatp objed-mode) 'objed-map t))))
        
        ;;;###autoload
        (defun meq/objed-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'objed) (funcall 'meq/execute-with-current-bindings-inner 'objed-mode "objed" (meq/fbatp objed-mode) 'objed-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/objed-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'objed) (funcall 'meq/execute-with-current-bindings-inner 'objed-mode "objed" (meq/fbatp objed-mode) 'objed-map t called-interactively)))
        
        (with-eval-after-load 'objed (add-to-list 'meq/var/modal-modes 'objed-mode) (add-to-list 'meq/var/modal-prefixes "objed"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    )
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org6a93371" class="outline-4">
<h4 id="org6a93371">projectile</h4>
<div class="outline-text-4" id="text-org6a93371">
<p>
Adapted From: <a href="https://sam217pa.github.io/2016/09/23/keybindings-strategies-in-emacs/">https://sam217pa.github.io/2016/09/23/keybindings-strategies-in-emacs/</a>
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up projectile
    :use-package-preconfig (counsel-projectile :config (counsel-projectile-mode 1)) (helm-projectile)
    ;; Adapted From: https://codeberg.org/dr.ops/medusa/src/branch/main/medusa.org#headline-16
    :deino (deino-projectile-other-window (:color teal) "p o"
        "projectile-other-window"
        ("f"  projectile-find-file-other-window        "file")
        ("g"  projectile-find-file-dwim-other-window   "file dwim")
        ("d"  projectile-find-dir-other-window         "dir")
        ("b"  projectile-switch-to-buffer-other-window "buffer")
        ("`"  nil                                      "cancel" :color blue))
    :sorrow ("p" :deino '(deino-projectile
                (:color teal :columns 4) "p p"
                ("a"   counsel-projectile-ag "counsel-projectile-ag")
                ("g"   counsel-projectile-rg "counsel-projectile-rg")
                ("c"   counsel-projectile "counsel-projectile")
                ("b"   counsel-projectile-switch-to-buffer "switch to buffer")
                ("C"   projectile-invalidate-cache "cache clear")
                ("d"   counsel-projectile-find-dir "find-dir")
                ("f"   counsel-projectile-find-file "find-file")
                ("F"   counsel-projectile-find-file-dwim "find-file-dwim")
                ("C-f" projectile-find-file-in-directory "find-file-in-dir")
                ("G"   ggtags-update-tags "update gtags")
                ("i"   projectile-ibuffer "Ibuffer")
                ("K"   projectile-kill-buffers "kill all buffers")
                ("o"   projectile-multi-occur "multi-occur")
                ("p"   counsel-projectile-switch-project "switch project")
                ("r"   projectile-recentf "recent file")
                ("x"   projectile-remove-known-project "remove known project")
                ("X"   projectile-cleanup-known-projects "cleanup non-existing projects")
                ("z"   projectile-cache-current-file "cache current file")
                ("h"   deino-helm-projectile/body "deino-helm-projectile")
                ("O"   deino-projectile-other-window/body "deino-projectile-other-window")
                ("`"   nil "cancel")))
            ("P" :deino '(deino-helm-projectile
                (:color teal :columns 4) "p h"
                ("h"   helm-projectile "helm-projectile")
                ("c"   helm-projectile-switch-project "switch-project")
                ("f"   helm-projectile-find-file "find-file")
                ("F"   helm-projectile-find-file-dwim "find-file-dwim")
                ("d"   helm-projectile-find-dir "find-dir")
                ("r"   helm-projectile-recentf "recent file")
                ("b"   helm-projectile-switch-to-buffer "switch to buffer")
                ("a"   helm-projectile-ag "helm-projectile-ag")
                ("g"   helm-projectile-rg "helm-projectile-rg")
                ("C-f" helm-projectile-find-file-in-known-projects "find file in known projects")
                ("`"   nil "cancel"))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgfb525c5" class="outline-4">
<h4 id="orgfb525c5">pyvenv</h4>
<div class="outline-text-4" id="text-orgfb525c5">
<p>
Adapted from <a href="https://blog.fredrikmeyer.net//2020/08/26/emacs-python-venv.html">here</a>, <a href="https://emacs.stackexchange.com/users/22272/user5293">user5293's</a> answer <a href="https://emacs.stackexchange.com/a/52673/31428">here</a>, <a href="https://emacs.stackexchange.com/users/5187/pandikunta-anand-reddy">Pandikunta Anand Reddy's</a> answer <a href="https://emacs.stackexchange.com/a/18086/31428">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up pyvenv :hook (after-init . pyvenv-mode)
               :config (pyvenv-activate (meq/ued ".local" "venv"))
               :gsetq (meq/var/python "python3")
                      (meq/var/hy "hy")
                      (pyvenv-post-activate-hooks (list (lambda () (setq python-shell-interpreter (concat pyvenv-virtual-env "bin/python3")
                                                                         org-babel-hy-command (concat pyvenv-virtual-env "bin/hy")))))
                      (pyvenv-post-deactivate-hooks (list (lambda () (setq python-shell-interpreter meq/var/python
                                                                           org-babel-hy-command meq/var/hy)))))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgc4b5337" class="outline-4">
<h4 id="orgc4b5337">restart-emacs</h4>
<div class="outline-text-4" id="text-orgc4b5337">
<p>
Cool <a href="https://github.com/iqbalansari/restart-emacs">package</a> by <a href="https://github.com/iqbalansari">Iqbal Ansari</a>!
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up restart-emacs
    :deino (deino-restart (:color blue) "r"
            ("`" nil "cancel")
            ("l" meq/reload-emacs "reload")
            ("s" restart-emacs "restart")))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgae18ffa" class="outline-4">
<h4 id="orgae18ffa">ryo modal</h4>
<div class="outline-text-4" id="text-orgae18ffa">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up ryo-modal
    :config ;; From: https://github.com/Kungsgeten/ryo-modal#which-key-integration
        (push '((nil . "ryo:.*:") . (nil . "")) which-key-replacement-alist)
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;;;###autoload
        (defdeino+ toggles (:color blue) ("r" meq/toggle-ryo "ryo"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("r" meq/ryo-show-top-level "ryo"))
        
        ;;;###autoload
        (defminorua 4 ryo-modal-mode deino-ala-ryo nil "; m r" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/ryo-cosmoem-show
            :hide-funs #'meq/ryo-cosmoem-hide
            :toggle-funs #'meq/ryo-cosmoem-toggle
            :keymap 'ryo-modal-mode-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t r" meq/toggle-ryo-cosmoem "ryo")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/ryo-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/ryo-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'ryo-modal-mode-map)
            (when (featurep 'ryo-modal) (meq/which-key-show-top-level 'ryo-modal-mode-map)))
        
        ;;;###autoload
        (defun meq/toggle-ryo (ua) (interactive "p")
            (when (featurep 'ryo-modal) (if (= ua 4)
                (funcall 'meq/toggle-inner 'ryo-modal-mode "ryo" (meq/fbatp ryo-modal-mode) 'ryo-modal-mode-map nil t)
                (funcall 'meq/toggle-inner 'ryo-modal-mode "ryo" (meq/fbatp ryo-modal-mode) 'ryo-modal-mode-map))))
        
        ;;;###autoload
        (defun meq/toggle-ryo-cosmoem (ua) (interactive "p")
            (when (featurep 'ryo-modal) (if (= ua 4)
                (funcall 'meq/toggle-inner 'ryo-modal-mode "ryo" (meq/fbatp ryo-modal-mode) 'ryo-modal-mode-map t t)
                (funcall 'meq/toggle-inner 'ryo-modal-mode "ryo" (meq/fbatp ryo-modal-mode) 'ryo-modal-mode-map t))))
        
        ;;;###autoload
        (defun meq/ryo-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'ryo-modal) (funcall 'meq/execute-with-current-bindings-inner 'ryo-modal-mode "ryo" (meq/fbatp ryo-modal-mode) 'ryo-modal-mode-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/ryo-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'ryo-modal) (funcall 'meq/execute-with-current-bindings-inner 'ryo-modal-mode "ryo" (meq/fbatp ryo-modal-mode) 'ryo-modal-mode-map t called-interactively)))
        
        (with-eval-after-load 'ryo-modal (add-to-list 'meq/var/modal-modes 'ryo-modal-mode) (add-to-list 'meq/var/modal-prefixes "ryo"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    )
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org7f6ac50" class="outline-4">
<h4 id="org7f6ac50">vterm</h4>
<div class="outline-text-4" id="text-org7f6ac50">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up vterm :use-package-postconfig (multi-vterm)
    :if (not (member system-type '(windows-nt ms-dos)))
    :gsetq
        ;; From: https://www.reddit.com/r/emacs/comments/pjtm91/vterm_a_little_bit_slow/hbz40xb?utm_medium=android_app&amp;utm_source=share&amp;context=3
        (vterm-timer-delay 0.01)

        (vterm-always-compile-module t)
        (vterm-shell (meq/ued "vterm-start.sh"))
        (vterm-kill-buffer-on-exit t))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org8b78572" class="outline-4">
<h4 id="org8b78572">xah-fly-keys</h4>
<div class="outline-text-4" id="text-org8b78572">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up xah-fly-keys
    :commands xah-fly-keys
    :config
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;;;###autoload
        (defdeino+ toggles (:color blue) ("x" meq/toggle-xah "xah"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("x" meq/xah-show-top-level "xah"))
        
        ;;;###autoload
        (defminorua 4 xah-fly-keys deino-ala-xah nil "; m x" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/xah-cosmoem-show
            :hide-funs #'meq/xah-cosmoem-hide
            :toggle-funs #'meq/xah-cosmoem-toggle
            :keymap 'xah-fly-command-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t x" meq/toggle-xah-cosmoem "xah")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/xah-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/xah-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'xah-fly-command-map)
            (when (featurep 'xah-fly-keys) (meq/which-key-show-top-level 'xah-fly-command-map)))
        
        ;;;###autoload
        (defun meq/toggle-xah (ua) (interactive "p")
            (when (featurep 'xah-fly-keys) (if (= ua 4)
                (funcall 'meq/toggle-inner 'xah-fly-keys "xah" (meq/fbatp xah-fly-keys) 'xah-fly-command-map nil t)
                (funcall 'meq/toggle-inner 'xah-fly-keys "xah" (meq/fbatp xah-fly-keys) 'xah-fly-command-map))))
        
        ;;;###autoload
        (defun meq/toggle-xah-cosmoem (ua) (interactive "p")
            (when (featurep 'xah-fly-keys) (if (= ua 4)
                (funcall 'meq/toggle-inner 'xah-fly-keys "xah" (meq/fbatp xah-fly-keys) 'xah-fly-command-map t t)
                (funcall 'meq/toggle-inner 'xah-fly-keys "xah" (meq/fbatp xah-fly-keys) 'xah-fly-command-map t))))
        
        ;;;###autoload
        (defun meq/xah-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'xah-fly-keys) (funcall 'meq/execute-with-current-bindings-inner 'xah-fly-keys "xah" (meq/fbatp xah-fly-keys) 'xah-fly-command-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/xah-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'xah-fly-keys) (funcall 'meq/execute-with-current-bindings-inner 'xah-fly-keys "xah" (meq/fbatp xah-fly-keys) 'xah-fly-command-map t called-interactively)))
        
        (with-eval-after-load 'xah-fly-keys (add-to-list 'meq/var/modal-modes 'xah-fly-keys) (add-to-list 'meq/var/modal-prefixes "xah"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :sorrow ("m" :deino
                '(modal-modes (:color blue) "m"
                    "A modal deino!"
                    ("`" nil "cancel")
                    ("x" meq/toggle-xah "xah-fly-keys")) :name "modal modes"))
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgec0698e" class="outline-4">
<h4 id="orgec0698e">show-paren-mode</h4>
<div class="outline-text-4" id="text-orgec0698e">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(setq show-paren-delay 0)
(add-hook 'after-init-hook #'show-paren-mode)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-orgea48a2e" class="outline-4">
<h4 id="orgea48a2e">lispy</h4>
<div class="outline-text-4" id="text-orgea48a2e">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up lispy :config
</code></pre>
</div>

<p>
Here is the setup for the <code>deino</code> of <code>cosmoem</code> maps referred to in the <code>cosmoem use-package</code> definition:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        ;;;###autoload
        (defdeino+ toggles (:color blue) ("l" meq/toggle-lispy "lispy"))
        
        ;;;###autoload
        (defdeino+ all-keymaps (:color blue) ("l" meq/lispy-show-top-level "lispy"))
        
        ;;;###autoload
        (defminorua 4 lispy-mode deino-ala-lispy nil "; m l" ("`" nil "cancel"))
        
        ;;;###autoload
        (cosmoem-def
            :show-funs #'meq/lispy-cosmoem-show
            :hide-funs #'meq/lispy-cosmoem-hide
            :toggle-funs #'meq/lispy-cosmoem-toggle
            :keymap 'lispy-mode-map
            ;; :transient t
        )
        
        ;;;###autoload
        (prime "t l" meq/toggle-lispy-cosmoem "lispy")
        
        ;; Cosmoem dummy toggle function
        ;;;###autoload
        (defun meq/lispy-cosmoem-toggle nil (interactive))
        
        ;;;###autoload
        (defun meq/lispy-show-top-level nil (interactive)
            (setq meq/var/all-keymaps-map 'lispy-mode-map)
            (when (featurep 'lispy) (meq/which-key-show-top-level 'lispy-mode-map)))
        
        ;;;###autoload
        (defun meq/toggle-lispy (ua) (interactive "p")
            (when (featurep 'lispy) (if (= ua 4)
                (funcall 'meq/toggle-inner 'lispy-mode "lispy" (meq/fbatp lispy-mode) 'lispy-mode-map nil t)
                (funcall 'meq/toggle-inner 'lispy-mode "lispy" (meq/fbatp lispy-mode) 'lispy-mode-map))))
        
        ;;;###autoload
        (defun meq/toggle-lispy-cosmoem (ua) (interactive "p")
            (when (featurep 'lispy) (if (= ua 4)
                (funcall 'meq/toggle-inner 'lispy-mode "lispy" (meq/fbatp lispy-mode) 'lispy-mode-map t t)
                (funcall 'meq/toggle-inner 'lispy-mode "lispy" (meq/fbatp lispy-mode) 'lispy-mode-map t))))
        
        ;;;###autoload
        (defun meq/lispy-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'lispy) (funcall 'meq/execute-with-current-bindings-inner 'lispy-mode "lispy" (meq/fbatp lispy-mode) 'lispy-mode-map nil called-interactively)))
        
        ;;;###autoload
        (defun meq/lispy-cosmoem-execute-with-current-bindings (&amp;optional called-interactively) (interactive "d")
            (when (featurep 'lispy) (funcall 'meq/execute-with-current-bindings-inner 'lispy-mode "lispy" (meq/fbatp lispy-mode) 'lispy-mode-map t called-interactively)))
        
        (with-eval-after-load 'lispy (add-to-list 'meq/var/modal-modes 'lispy-mode) (add-to-list 'meq/var/modal-prefixes "lispy"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    )
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org385a5e1" class="outline-4">
<h4 id="org385a5e1">sly</h4>
<div class="outline-text-4" id="text-org385a5e1">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up sly)
</code></pre>
</div>
</div>
</div>

<div id="outline-container-org634149d" class="outline-4">
<h4 id="org634149d">Major Modes</h4>
<div class="outline-text-4" id="text-org634149d">
</div>

<ul class="org-ul">
<li><a id="org75e2ebf"></a>titan<br />
<div class="outline-text-5" id="text-org75e2ebf">
<p>
Set up my super major-mode <a href="https://github.com/shadowrylander/titan">titan</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(meq/up titan-templates :gsetq (meq/var/titan-snippets-dir (meq/ued-lib "titan" "snippets")))
</code></pre>
</div>
</div>
</li>

<li><a id="orge3d73de"></a>caddyfile-mode<br />
<div class="outline-text-5" id="text-orge3d73de">
<p>
For <a href="https://github.com/Schnouki/caddyfile-mode">caddyfiles</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package caddyfile-mode :mode ("\\caddyfile\\'"))
</code></pre>
</div>
</div>
</li>

<li><a id="orgeaca103"></a>dockerfile-mode<br />
<div class="outline-text-5" id="text-orgeaca103">
<p>
For <a href="https://github.com/spotify/dockerfile-mode">dockerfiles</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package dockerfile-mode :mode ("\\Dockerfile\\'"))
</code></pre>
</div>
</div>
</li>

<li><a id="org6fbaeb0"></a>hy-mode<br />
<div class="outline-text-5" id="text-org6fbaeb0">
<p>
For <a href="https://github.com/hylang/hy-mode">hy</a>, plus <a href="https://github.com/brantou/ob-hy">ob-hy</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package hy-mode
    :commands (org-babel-execute:hy)
    :mode ("\\.hy\\'")
    :use-package-preconfig (ob-hy :commands (org-babel-execute:hy)))
</code></pre>
</div>
</div>
</li>

<li><a id="org446f645"></a>systemd-mode<br />
<div class="outline-text-5" id="text-org446f645">
<p>
For <code>systemd</code>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package systemd-mode :mode ("\\.service\\'"))
</code></pre>
</div>
</div>
</li>

<li><a id="orgbfbc5dc"></a>markdown-mode<br />
<div class="outline-text-5" id="text-orgbfbc5dc">
<p>
For <a href="https://jblevins.org/projects/markdown-mode/">markdown</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(eval `(use-package markdown-mode :mode ,(meq/titan-append-modes "markdown" "\\.md\\'")))
</code></pre>
</div>
</div>
</li>

<li><a id="orgadc1781"></a>nix-mode<br />
<div class="outline-text-5" id="text-orgadc1781">
<p>
For <a href="https://github.com/NixOS/nix-mode">nix</a>, with <code>org-babel-execute:nix</code> coming from <a href="https://emacs.stackexchange.com/users/20061/zeta">Zeta's</a> answer <a href="https://emacs.stackexchange.com/a/61442">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package nix-mode
    :commands (org-babel-execute:nix)
    :mode ("\\.nix\\'")
    :init/defun*
        (org-babel-execute:nix (body params)
            "Execute a block of Nix code with org-babel."
            (message "executing Nix source code block")
            (let ((E (cdr (assoc :E params)))
                (in-file (unless E (org-babel-temp-file "n" ".nix")))
                (show-trace (cdr (assoc :show-trace params)))
                (json (cdr (assoc :json params)))
                (xml (cdr (assoc :xml params))))
            (unless E (with-temp-file in-file (insert body)))
            (org-babel-eval
                (format "nix-instantiate --read-write-mode --eval %s %s %s %s"
                    (if show-trace "--show-trace" "")
                    (if json "--json" "")
                    (if xml "--xml" "")
                    (if E (format "-E '%s'" body) (org-babel-process-file-name in-file)))
            ""))))
</code></pre>
</div>
</div>
</li>

<li><a id="orgc339460"></a>python<br />
<div class="outline-text-5" id="text-orgc339460">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package ob-python :commands (org-babel-execute:python))
</code></pre>
</div>
</div>
</li>

<li><a id="orge0b664d"></a>shell<br />
<div class="outline-text-5" id="text-orge0b664d">
<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package ob-shell :commands (org-babel-execute:shell))
</code></pre>
</div>
</div>
</li>

<li><a id="orgf796e96"></a>vimrc-mode<br />
<div class="outline-text-5" id="text-orgf796e96">
<p>
For <a href="https://github.com/mcandre/vimrc-mode">vimrc</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package vimrc-mode
    :commands (org-babel-execute:vimrc)
    :mode "\\.vim\\(rc\\)?\\'")
</code></pre>
</div>
</div>
</li>

<li><a id="org897ddf3"></a>xonsh-mode<br />
<div class="outline-text-5" id="text-org897ddf3">
<p>
For <a href="https://github.com/seanfarley/xonsh-mode">xonsh</a>, again with <code>org-babel-execute:xonsh</code> coming from <a href="https://emacs.stackexchange.com/users/20061/zeta">Zeta's</a> answer <a href="https://emacs.stackexchange.com/a/61442">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package xonsh-mode
    :commands (org-babel-execute:xonsh)
    :mode ("\\.xonshrc\\'" "\\.xsh\\'")
    :init/defun*
        (org-babel-execute:xonsh (body params)
            "Execute a block of Xonsh code with org-babel."
            (message "executing Xonsh source code block")
            (let ((in-file (org-babel-temp-file "x" ".xsh"))
                (opts (or (cdr (assoc :opts params)) nil))
                (args (or (cdr (assoc :args params)) nil)))
            (with-temp-file in-file
                (insert body))
            (org-babel-eval
                (format "xonsh %s %s %s"
                    (if (eq opts nil) "" opts)
                    (if (eq args nil) "" args)
                    (org-babel-process-file-name in-file))
            ""))))
</code></pre>
</div>
</div>
</li>

<li><a id="orga4c1b99"></a>text-mode<br />
<div class="outline-text-5" id="text-orga4c1b99">
<p>
For <code>text</code>, again with <code>org-babel-execute:text</code> coming from <a href="https://emacs.stackexchange.com/users/20061/zeta">Zeta's</a> answer <a href="https://emacs.stackexchange.com/a/61442">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package text-mode
    :commands (org-babel-execute:text)
    :mode ("\\.txt\\'")
    :init/defun*
        (org-babel-execute:text (body params)
            "Return a block of text with org-babel."
            (message "returning text source code block")
            (let ((in-file (org-babel-temp-file "t" ".txt")))
            (with-temp-file in-file (insert body))
            (org-babel-eval (format "%s %s"
                                    (if meq/var/windows "type" "cat")
                                    (org-babel-process-file-name in-file)) ""))))
</code></pre>
</div>
</div>
</li>

<li><a id="org5276e56"></a>org-mode<br />
<div class="outline-text-5" id="text-org5276e56">
<p>
The one and only <a href="https://orgmode.org/">org-mode</a>, with <a href="https://orgmode.org/worg/org-contrib/">org-contrib</a>:
</p>
<ul class="org-ul">
<li>Here's the <a href="https://git.savannah.gnu.org/cgit/emacs/org-mode.git/">git repo</a></li>
<li>Here's the <a href="https://git.sr.ht/~bzg/org-contrib">contrib repo</a></li>
</ul>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(eval `(use-package org
</code></pre>
</div>

<p>
<code>org-mode</code> will activate when any files using the <a href="https://github.com/shadowrylander/titan"><code>titan-org</code></a> super major-mode,
or with the extension <code>.org</code>, are opened:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :mode ,(meq/titan-append-modes "org" '("\\.org\\'" . org-mode))
</code></pre>
</div>

<p>
I used to use <a href="https://www.reddit.com/r/emacs/comments/6klewl/comment/djniygy/?utm_source=share&amp;utm_medium=web2x&amp;context=3">this</a> to skip over expanding any sub-headers; now I just use <a href="https://github.com/shadowrylander/meq/blob/fa12afdcdd4b4e148c04936337239e165e7dcdb2/meq.el#L215">my own</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :hook (org-cycle . (lambda (state) (interactive) (when (eq state 'children) (setq org-cycle-subtree-status 'subtree))))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :use-package-postconfig (org-contrib)
</code></pre>
</div>

<p>
This sets up <a href="https://github.com/kawabata/ox-pandoc">ox-pandoc</a> by <a href="https://github.com/kawabata">kawabata</a>, for exporting files using <a href="https://pandoc.org/">pandoc</a>, and my <a href="https://github.com/shadowrylander/riot">riot</a> package, inspired by <a href="https://github.com/tecosaur">tecosaur's</a> package <a href="https://github.com/tecosaur/org-pandoc-import">org-pandoc-import</a>;
it essentially converts any files convertable by <code>pandoc</code> to an <code>org</code> file upon opening it, and then converts it back to the original format
on saving the file.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (ox-pandoc :upnsd-postconfig (riot :if (not (meq/item-in-cla "--anti-riot")))
            :deino (deino-ob-export-as (:color blue) "o e a"
                    ("`" nil "cancel")
                    ("a" org-pandoc-export-as-asciidoc "asciidoc")
                    ("g" org-pandoc-export-as-gfm "gfm")
                    ("h" org-pandoc-export-as-html5 "html5")
                    ("l" org-pandoc-export-as-latex "latex"))
                (deino-ob-export-to (:color blue) "o e t"
                    ("`" nil "cancel")
                    ("a" org-pandoc-export-to-asciidoc "asciidoc")
                    ("d" org-pandoc-export-to-docx "docx")
                    ("o" org-pandoc-export-to-odt "odt")
                    ("g" org-pandoc-export-to-gfm "gfm")
                    ("h" org-pandoc-export-to-html5 "html5")
                    ("l" org-pandoc-export-to-latex "latex"))
                (deino-ob-export-and-open (:color blue) "o e o"
                    ("`" nil "cancel")
                    ("a" org-pandoc-export-to-asciidoc-and-open "asciidoc")
                    ("g" org-pandoc-export-to-gfm-and-open "gfm")
                    ("h" org-pandoc-export-to-html5-and-open "html5")
                    ("l" org-pandoc-export-to-latex-and-open "latex"))
                (deino-ob-export (:color blue) "o e e"
                    ("`" nil "cancel")
                    ("a" deino-ob-export-as/body "export as")
                    ("t" deino-ob-export-to/body "export to")
                    ("o" deino-ob-export-and-open/body "export and open"))
</code></pre>
</div>

<p>
I have advised the <code>org-pandoc-export</code> function to allow derived modes of <code>org-mode</code> as well, to account for my super major-modes, such as <a href="https://github.com/shadowrylander/titan"><code>titan</code></a>, <a href="https://github.com/shadowrylander/fell"><code>fell</code></a>, <a href="https://github.com/shadowrylander/doc"><code>doc</code></a>, etc.
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">            :config/defun* (meq/org-pandoc-export-advice (format a s v b e &amp;optional buf-or-open)
                "General interface for Pandoc Export.
                If BUF-OR-OPEN is nil, output to file.  0, then open the file.
                t means output to buffer."
                (unless (derived-mode-p 'org-mode)
                    (error "You must run this command in org-mode or its derived major modes."))
                (unless (executable-find org-pandoc-command)
                    (error "Pandoc (version 1.12.4 or later) can not be found."))
                (setq org-pandoc-format format)
                (org-export-to-file 'pandoc (org-export-output-file-name
                                            (concat (make-temp-name ".tmp") ".org") s)
                    a s v b e (lambda (f) (org-pandoc-run-to-buffer-or-file f format s buf-or-open))))
            :leaf (ox-pandoc :advice (:override org-pandoc-export meq/org-pandoc-export-advice)))
</code></pre>
</div>

<p>
Set up <a href="https://github.com/joaotavora/yasnippet">yasnippet</a> by <a href="https://github.com/joaotavora">João Távora</a>, with the <code>deino</code> coming from <a href="https://github.com/abo-abo/hydra/wiki/YASnippet">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (yasnippet :config (add-to-list 'yas-snippet-dirs (meq/ued "snippets") t)
            :deino (deino-yasnippet (:color blue :hint nil) "y"
                "
                            ^YASnippets^
                --------------------------------------------
                Modes:    Load/Visit:    Actions:

                _g_lobal  _d_irectory    _i_nsert
                _m_inor   _f_ile         _t_ryout
                _e_xtra   _l_ist         _n_ew
                        _a_ll
                "
                ("d" yas-load-directory)
                ("e" yas-activate-extra-mode)
                ("i" yas-insert-snippet)
                ("f" yas-visit-snippet-file :color blue)
                ("n" yas-new-snippet)
                ("t" yas-tryout-snippet)
                ("l" yas-describe-tables)
                ("g" yas/global-mode)
                ("m" yas/minor-mode)
                ("a" yas-reload-all)))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :config (load (executable-find "org-export-functions.el"))
            (setq toggle-debug-on-error t)
            ;; (setq auto-mode-alist (append auto-mode-alist (meq/titan-append-modes org ("\\.org\\'" . org-mode))))
            (defun meq/org-html-export-to-as-html (func &amp;rest args) (let (org-confirm-babel-evaluate) (apply func args)))
            (advice-add #'org-html-export-to-html :around #'meq/org-html-export-to-as-html)
            (advice-add #'org-html-export-as-html :around #'meq/org-html-export-to-as-html)
</code></pre>
</div>

<p>
Needed for <code>:meta</code> and <code>:meta-rename</code> for some reason; why is this necessary?
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">            (mapc #'(lambda (key) (define-key org-mode-map (kbd key) nil))
                '("ESC &lt;left&gt;"
                  "ESC &lt;right&gt;"
                  "ESC &lt;up&gt;"
                  "ESC &lt;down&gt;"
                  "ESC S-&lt;left&gt;"
                  "ESC S-&lt;right&gt;"
                  "ESC S-&lt;up&gt;"
                  "ESC S-&lt;down&gt;"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :meta (org-mode-map)
    :meta-rename (org-mode-map "ESC" "org-metadir")
    :minoru (org-src-mode deino-edit-spc (:color blue) "o s"
            ("`" nil "cancel")
            ("i" meq/narrow-or-widen-dwim "narrow")
            ("x" org-edit-special "org edit special")
</code></pre>
</div>

<p>
The following commands are from <a href="https://github.com/bzg/org-mode/blob/main/lisp/org-src.el">this file</a>:
</p>
<ul class="org-ul">
<li><code>org-edit-src-save</code> on <a href="https://github.com/bzg/org-mode/blob/main/lisp/org-src.el#L1222">Line 1222</a></li>
<li><code>org-edit-src-exit</code> on <a href="https://github.com/bzg/org-mode/blob/main/lisp/org-src.el#L1254">Line 1254</a></li>
<li><code>org-edit-src-abort</code> on <a href="https://github.com/bzg/org-mode/blob/main/lisp/org-src.el#L1207">Line 1207</a></li>
</ul>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">            ("s" org-edit-src-save "save")
            ("e" org-edit-src-exit "exit")
            ("a" org-edit-src-abort "abort"))
</code></pre>
</div>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">    :uru (org-mode nil deino-org (:color blue) "o o"
            "A deino for org-mode!"
            ("`" nil "cancel")
            ("t" org-babel-tangle "tangle")
            ("a" meq/org-babel-tangle-append "tangle append")
            ("F" org-babel-tangle-file "tangle file")
            ("n" meq/narrow-or-widen-dwim "narrow")
            ("s" org-edit-special "org edit special")
            ("e" deino-ob-export/body "export")
            ("g" meq/go-to-parent "go to parent")
            ("l" org-toggle-link-display "toggle link display")
            ("c" meq/org-custom-id-get-create "create uuid for heading CUSTOM_ID property")
            ("i" org-id-get-create "create uuid for heading ID property"))
    :gsetq
        ;; I'm using ox-pandoc
        ;; (org-export-backends '(md gfm latex odt org))
        (org-directory "/tmp")
        (org-roam-directory org-directory)
        (org-descriptive-links nil)
        (org-startup-folded t)
        ;; (org-src-window-setup 'current-window)
        ;; (org-cycle-emulate-tab 'whitestart)
        (org-support-shift-select t)
        ;; (org-src-tab-acts-natively t)
</code></pre>
</div>

<p>
Upon exiting <code>org-src-mode</code> I don't want any indentation added to my code blocks, so I use <a href="https://emacs.stackexchange.com/users/29861/doltes">doltes's</a> answer <a href="https://emacs.stackexchange.com/a/60638/31428">here</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">        (org-edit-src-content-indentation 0)))
</code></pre>
</div>
</div>
</li>

<li><a id="org66e19b9"></a>doc<br />
<div class="outline-text-5" id="text-org66e19b9">
<p>
Set up documentation super major-mode <a href="https://github.com/shadowrylander/doc">doc</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package doc-templates
    :commands (meq/dired-create-doc-markdown meq/dired-create-and-open-doc-markdown)
    :gsetq (meq/var/doc-snippets-dir (meq/ued-lib "doc" "snippets"))
    :uru (doc-org-mode nil deino-doc-org (:color blue :inherit (deino-org-usually/heads)) "t d o"
            ("d" (meq/insert-snippet "org titan template") "template")))
</code></pre>
</div>
</div>
</li>

<li><a id="org7212186"></a>fell<br />
<div class="outline-text-5" id="text-org7212186">
<p>
Set up novel's super major-mode <a href="https://github.com/shadowrylander/fell">fell</a>:
</p>

<div class="org-src-container">
<pre><code class="language-lisp match-braces rainbow-braces">(use-package fell-templates
    :commands (meq/dired-create-fell-markdown meq/dired-create-and-open-fell-markdown)
    :gsetq (meq/var/fell-snippets-dir (meq/ued-lib "fell" "snippets"))
    :uru (fell-org-mode nil deino-fell-org (:color blue :inherit (deino-org-usually/heads)) "t f o"
            ("f" (meq/insert-snippet "org titan template") "template")))
</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Jeet Ray</p>
<p class="date">Created: 2022-11-14 Mon 06:05</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
